<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
        <title>Hexo-NexT (v7.7.0) 主题安装配置优化 - </title>
        <meta name="Description" content="JOHHNYCHAN&#39;S HUGO BLOG"><meta property="og:title" content="Hexo-NexT (v7.7.0) 主题安装配置优化" />
<meta property="og:description" content="准备环境与安装

Node.js 下载，并安装。
安装Hexo，在命令行运行以下命令：



1


npm install -g hexo-cli



初始化Hexo，在命令行依次运行以下命令即可：
&lt;folder&gt;即存放Hexo初始化文件的路径， 即站点目录。



1
2
3


hexo init &lt;folder&gt;
cd &lt;folder&gt;
npm install


新建完成后，在路径下，会产生这些文件和文件夹：


1
2
3
4
5
6
7
8


.
├── _config.yml
├── package.json
├── scaffolds
├── source
|   ├── _drafts
|   └── _posts
└── themes


" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://chenjunxin.com/hexo-next%E4%B8%BB%E9%A2%98%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE%E4%BC%98%E5%8C%96/" />
<meta property="article:published_time" content="2020-02-25T19:19:52+00:00" />
<meta property="article:modified_time" content="2020-02-25T19:19:52+00:00" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Hexo-NexT (v7.7.0) 主题安装配置优化"/>
<meta name="twitter:description" content="准备环境与安装

Node.js 下载，并安装。
安装Hexo，在命令行运行以下命令：



1


npm install -g hexo-cli



初始化Hexo，在命令行依次运行以下命令即可：
&lt;folder&gt;即存放Hexo初始化文件的路径， 即站点目录。



1
2
3


hexo init &lt;folder&gt;
cd &lt;folder&gt;
npm install


新建完成后，在路径下，会产生这些文件和文件夹：


1
2
3
4
5
6
7
8


.
├── _config.yml
├── package.json
├── scaffolds
├── source
|   ├── _drafts
|   └── _posts
└── themes


"/>
<meta name="application-name" content="LoveIt">
<meta name="apple-mobile-web-app-title" content="LoveIt"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://chenjunxin.com/hexo-next%E4%B8%BB%E9%A2%98%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE%E4%BC%98%E5%8C%96/" /><link rel="prev" href="https://chenjunxin.com/%E4%BD%BF%E7%94%A8travis%E9%83%A8%E7%BD%B2hexo/" /><link rel="next" href="https://chenjunxin.com/centos7%E4%B8%8Adocker%E9%83%A8%E7%BD%B2v2ray/" /><link rel="stylesheet" href="/lib/normalize/normalize.min.css"><link rel="stylesheet" href="/css/style.min.css"><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"><link rel="stylesheet" href="/lib/animate/animate.min.css"><meta name="google-site-verification" content="SEgZDIT-0OdxnPgHgsC3fOvdOF7O4zxgMnV25A4601U" /><meta name="baidu-site-verification" content="c694f10d0cd3c87d69a8be39bb4e7a46" /><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "Hexo-NexT (v7.7.0) 主题安装配置优化",
        "inLanguage": "zh-CN",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/chenjunxin.com\/hexo-next%E4%B8%BB%E9%A2%98%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE%E4%BC%98%E5%8C%96\/"
        },"image": {
                "@type": "ImageObject",
                "url": "https:\/\/chenjunxin.com\/cover.png",
                "width":  800 ,
                "height":  600 
            },"genre": "posts","keywords": "Hexo安装配置, Hexo优化, NexT主题配置","wordcount":  13939 ,
        "url": "https:\/\/chenjunxin.com\/hexo-next%E4%B8%BB%E9%A2%98%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE%E4%BC%98%E5%8C%96\/","datePublished": "2020-02-25T19:19:52+00:00","dateModified": "2020-02-25T19:19:52+00:00","publisher": {
                "@type": "Organization",
                "name": "JohnnyChan",
                "logo": {
                "@type": "ImageObject",
                "url": "https:\/\/chenjunxin.com\/logo.png",
                "width":  127 ,
                "height":  40 
                }
            },"author": {
                "@type": "Person",
                "name": "JohnnyChan"
            },"description": ""
    }
    </script></head>
    <body><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title=""></a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"> 文章 </a><a class="menu-item" href="/tags/"> 标签 </a><a class="menu-item" href="/categories/"> 分类 </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="搜索文章标题或内容..." id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="搜索">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="清空">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="切换主题">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title=""></a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="搜索文章标题或内容..." id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="搜索">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="清空">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        取消
                    </a>
                </div><a class="menu-item" href="/posts/" title="">文章</a><a class="menu-item" href="/tags/" title="">标签</a><a class="menu-item" href="/categories/" title="">分类</a><a href="javascript:void(0);" class="menu-item theme-switch" title="切换主题">
                <i class="fas fa-adjust fa-fw"></i>
            </a></div>
    </div>
</header>
<div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div>
<main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">目录</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animated flipInX">Hexo-NexT (v7.7.0) 主题安装配置优化</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="/" title="Author" rel=" author" class="author"><i class="fas fa-user-circle fa-fw"></i>JohnnyChan</a></span>&nbsp;
                    <span class="post-category">收录于<a href="/categories/%E6%8A%80%E6%9C%AF/">
                                <i class="far fa-folder fa-fw"></i>技术
                            </a>&nbsp;<a href="/categories/hexo/">
                                <i class="far fa-folder fa-fw"></i>Hexo
                            </a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw"></i><time datetime=2020-02-25>2020-02-25</time>&nbsp;
                <i class="fas fa-pencil-alt fa-fw"></i>约 13939 字&nbsp;
                <i class="far fa-clock fa-fw"></i>预计阅读 28 分钟&nbsp;</div>
        </div><div class="details toc" id="toc-static">
                <div class="details-summary toc-title">
                    <span>目录</span>
                    <span><i class="details-icon fas fa-angle-right"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#配置-hexo-网站相关信息">配置 hexo 网站相关信息</a></li>
    <li><a href="#安装配置主题以next7为例">安装配置主题(以Next7为例)</a>
      <ul>
        <li><a href="#获取-next">获取 NexT</a></li>
        <li><a href="#修改默认主题设置">修改默认主题设置</a></li>
        <li><a href="#配置主题">配置主题</a>
          <ul>
            <li><a href="#hexo增加-about页面">Hexo增加 <code>about</code>页面</a></li>
            <li><a href="#hexo增加tagscategories-页面">Hexo增加<code>tags/categories</code> 页面</a></li>
            <li><a href="#配置-hexo-中-next-主题样式选择">配置 hexo 中 next 主题样式选择</a></li>
            <li><a href="#新建一个-404-页面">新建一个 404 页面</a></li>
            <li><a href="#配置-hexo-站点的-footer-信息">配置 hexo 站点的 footer 信息</a></li>
            <li><a href="#设置侧栏">设置侧栏</a></li>
            <li><a href="#头像信息设置">头像信息设置</a></li>
            <li><a href="#社交信息和友链配置">社交信息和友链配置</a></li>
            <li><a href="#首页文章属性">首页文章属性</a></li>
            <li><a href="#开启文章目录">开启文章目录</a></li>
            <li><a href="#follow-me-on-github">Follow me on GitHub</a></li>
            <li><a href="#阅读书签">阅读书签</a></li>
            <li><a href="#字数统计阅读时长">字数统计、阅读时长</a></li>
            <li><a href="#显示当前浏览进度">显示当前浏览进度</a></li>
            <li><a href="#阅读进度">阅读进度</a></li>
            <li><a href="#图片懒加载">图片懒加载</a></li>
            <li><a href="#添加图片灯箱">添加图片灯箱</a></li>
            <li><a href="#设置代码高亮主题">设置代码高亮主题</a></li>
            <li><a href="#代码块新增复制按钮">代码块新增复制按钮</a></li>
            <li><a href="#文章原创申明">文章原创申明</a></li>
            <li><a href="#加载动画">加载动画</a></li>
            <li><a href="#hexo-本地搜索功能">Hexo 本地搜索功能</a>
              <ul>
                <li><a href="#本地搜索的原理">本地搜索的原理</a></li>
                <li><a href="#插件地址">插件地址</a></li>
                <li><a href="#安装配置">安装配置</a></li>
              </ul>
            </li>
            <li><a href="#数据分析与统计">数据分析与统计</a>
              <ul>
                <li><a href="#访问次数统计">访问次数统计</a></li>
                <li><a href="#百度统计">百度统计</a></li>
                <li><a href="#添加-google-统计">添加 Google 统计</a></li>
              </ul>
            </li>
            <li><a href="#google-search-console">Google Search Console</a></li>
            <li><a href="#hexo博客提交百度和google收录">Hexo博客提交百度和Google收录</a>
              <ul>
                <li><a href="#让google和百度收录博客">让Google和百度收录博客</a>
                  <ul>
                    <li><a href="#验证站点">验证站点</a></li>
                  </ul>
                </li>
                <li><a href="#生成站点地图">生成站点地图</a></li>
                <li><a href="#添加-robotstxt">添加 robots.txt</a></li>
                <li><a href="#提交sitemap">提交sitemap</a></li>
                <li><a href="#主动推送">主动推送</a></li>
                <li><a href="#自动推送">自动推送</a></li>
                <li><a href="#为网站添加关键字seo优化">为网站添加关键字,SEO优化</a></li>
                <li><a href="#hexo-abbrlink-链接持久化">hexo-abbrlink 链接持久化</a></li>
                <li><a href="#hexo-autonofollow">hexo-autonofollow</a></li>
              </ul>
            </li>
            <li><a href="#博文压缩">博文压缩</a></li>
            <li><a href="#网页样式布局">网页样式布局</a>
              <ul>
                <li><a href="#使用-google-fonts">使用 Google Fonts</a></li>
              </ul>
            </li>
            <li><a href="#归档页面添加十二生肖">归档页面添加十二生肖</a></li>
            <li><a href="#添加数学公式支持">添加数学公式支持</a>
              <ul>
                <li><a href="#安装pandoc">安装pandoc</a></li>
                <li><a href="#更换hexo渲染器">更换Hexo渲染器</a></li>
              </ul>
            </li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>

  <ul>
    <li><a href="#草稿--布局">草稿 &amp;&amp; 布局</a>
      <ul>
        <li><a href="#草稿布局">草稿布局</a></li>
        <li><a href="#广义布局">广义布局</a></li>
        <li><a href="#草稿draft">草稿（draft）</a></li>
      </ul>
    </li>
    <li><a href="#标签与分类">标签与分类</a></li>
    <li><a href="#文章标题格式">文章标题格式</a></li>
    <li><a href="#首页文章不展示全文显示摘要">首页文章不展示全文显示摘要</a></li>
    <li><a href="#代码块进阶用法">代码块进阶用法</a></li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><h1 id="准备环境与安装">准备环境与安装</h1>
<ol>
<li><a href="http://nodejs.org/" target="_blank" rel="noopener noreffer">Node.js</a> 下载，并安装。</li>
<li>安装Hexo，在命令行运行以下命令：</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">npm install -g hexo-cli
</code></pre></td></tr></table>
</div>
</div><ol start="3">
<li>初始化Hexo，在命令行依次运行以下命令即可：
&lt;folder&gt;即存放Hexo初始化文件的路径， 即站点目录。</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">hexo init &lt;folder&gt;
<span class="nb">cd</span> &lt;folder&gt;
npm install
</code></pre></td></tr></table>
</div>
</div><p>新建完成后，在路径下，会产生这些文件和文件夹：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">.
├── _config.yml
├── package.json
├── scaffolds
├── <span class="nb">source</span>
<span class="p">|</span>   ├── _drafts
<span class="p">|</span>   └── _posts
└── themes
</code></pre></td></tr></table>
</div>
</div><p><strong>注</strong>：</p>
<ul>
<li>站点配置文件：站点目录下的<code>_config.yml</code></li>
<li>主题配置文件：站点目录下的<code>themes</code>文件夹下的，主题文件夹下的<code>_config.yml</code>，路径为<code>\themes\&lt;主题文件夹&gt;\_config.yml</code>&gt;。</li>
<li>package.json：应用程序信息</li>
<li>scaffold：模板文件夹，新建文章时，Hexo会根据scaffold来建立文件。</li>
<li>source：资源文件夹是存放用户资源的地方。除 <code>_posts</code> 文件夹之外，开头命名为 <code>_</code> (下划线)的文件 / 文件夹和隐藏的文件将会被忽略。Markdown 和 HTML 文件会被解析并放到 <code>public</code> 文件夹，而其他文件会被拷贝过去。</li>
</ul>
<ol start="4">
<li>启动服务器。在路径下，命令行（即Git Bash）输入以下命令，运行即可：</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">hexo server
</code></pre></td></tr></table>
</div>
</div><ol start="5">
<li>浏览器访问网址： <code>http://localhost:4000/</code>
至此Hexo博客已经搭建在本地。</li>
</ol>
<h1 id="配置hexo">配置Hexo</h1>
<h2 id="配置-hexo-网站相关信息">配置 hexo 网站相关信息</h2>
<p>我们在站点的配置文件<code>_config.yml</code> 中，修改：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-yaml" data-lang="yaml"><span class="c"># Site</span><span class="w">
</span><span class="w"></span><span class="k">title</span><span class="p">:</span><span class="w">          </span><span class="c"># 网站标题</span><span class="w">
</span><span class="w"></span><span class="k">subtitle</span><span class="p">:</span><span class="w">       </span><span class="c"># 网站副标题</span><span class="w">
</span><span class="w"></span><span class="k">description</span><span class="p">:</span><span class="w">    </span><span class="c"># 描述，介绍网站的</span><span class="w">
</span><span class="w"></span><span class="k">keywords</span><span class="p">:</span><span class="w">       </span><span class="c"># 网站的关键字</span><span class="w">
</span><span class="w"></span><span class="k">author</span><span class="p">:</span><span class="w">         </span><span class="c"># 博主姓名</span><span class="w">
</span><span class="w"></span><span class="k">language</span><span class="p">:</span><span class="w"> </span>zh-CN<span class="w"> </span><span class="c"># 语言：zh-CN 是简体中文</span><span class="w">
</span><span class="w"></span><span class="k">timezone</span><span class="p">:</span><span class="w">       </span><span class="c"># 时区</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div><p>注意：博客框架默认的语言是英文，我们需要到 <code>/themes/&lt;主题&gt;/languages</code> 目录下，查看当前 主题 版本简体中文对照文件的名称是 <code>zh-Hans</code> 还是 <code>zh-CN</code>。这里NexT是 <code>zh-CN</code>。</p>
<h2 id="安装配置主题以next7为例">安装配置主题(以Next7为例)</h2>
<h3 id="获取-next">获取 NexT</h3>
<p>进入hexo主目录</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ <span class="nb">cd</span> hexo
$ git clone https://github.com/theme-next/hexo-theme-next themes/next
</code></pre></td></tr></table>
</div>
</div><p><strong>更新：推荐使用独立的配置文件（数据文件）而不在主题源代码进行更改，便于后续的更新（下载最新版本，替换掉旧版本）</strong></p>
<h3 id="修改默认主题设置">修改默认主题设置</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ vim _config.yml
    theme: next
</code></pre></td></tr></table>
</div>
</div><p>主题目录结构</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">.
├── _config.yml
├── languages
├── layout
├── scripts
└── <span class="nb">source</span>
</code></pre></td></tr></table>
</div>
</div><ul>
<li><code>_config.yml</code>:  主体的配置文件, 修改时会自动更新, 无需重启服务器</li>
<li><code>languages</code>:  语言文件夹, 参见国际化</li>
<li><code>layout</code>:  布局文件夹, 用于存放主题的模板文件, 决定网站内容的呈现方式,Hexo 内建 Swig 模板引擎, 可以另外安装插件来获得 EJS, Haml, Jade 支持, Hexo 根据模板文件的扩展名来决定所使用的模板引擎</li>
<li><code>scripts</code>:  脚本文件夹, 在启动时, Hexo 会自定载入此文件夹内的 JavaScript 文件</li>
<li><code>source</code>:  资源文件夹, 除了模板以外的 Asset, 如 CSS , JavaScript 文件等, 都应该放在这个文件夹中. 文件或文件夹前缀为 _ (下划线) 或 隐藏的文件会被忽略.
如果文件可以被渲染的话, 会经过解析然后存储到 public 文件夹, 否则会直接拷贝到 public 文件夹.</li>
</ul>
<h3 id="配置主题">配置主题</h3>
<p>配置 hexo 中的 about、tag、categories、sitemap 菜单
默认的主题配置文件_config.yml 中，菜单只开启了首页和归档，我们根据需要，可以添加 about、tag、categories 等菜单，所以把它们也取消注释。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-yaml" data-lang="yaml"><span class="c"># 菜单设置为 菜单名: /菜单目录 || 菜单图标名字</span><span class="w">
</span><span class="w"></span><span class="k">menu</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="k">home</span><span class="p">:</span><span class="w"> </span>/<span class="w"> </span>||<span class="w"> </span>home<span class="w">
</span><span class="w">  </span><span class="k">about</span><span class="p">:</span><span class="w"> </span>/about/<span class="w"> </span>||<span class="w"> </span>user<span class="w">
</span><span class="w">  </span><span class="k">tags</span><span class="p">:</span><span class="w"> </span>/tags/<span class="w"> </span>||<span class="w"> </span>tags<span class="w">
</span><span class="w">  </span><span class="k">categories</span><span class="p">:</span><span class="w"> </span>/categories/<span class="w"> </span>||<span class="w"> </span>th<span class="w">
</span><span class="w">  </span><span class="k">archives</span><span class="p">:</span><span class="w"> </span>/archives/<span class="w"> </span>||<span class="w"> </span>archive<span class="w">
</span></code></pre></td></tr></table>
</div>
</div><p>注：hexo 所有图标均来自 <a href="https://fontawesome.com/" target="_blank" rel="noopener noreffer">fontawesome</a>，其中 || 后面是你想要设置的图标的名字。</p>
<h4 id="hexo增加-about页面">Hexo增加 <code>about</code>页面</h4>
<ol>
<li>进入Hexo目录，执行<code>hexo new page &quot;about&quot;</code>，会发现在<code>source</code>目录下多了个<code>about</code>目录，在里面的<code>index.md</code>写入内容</li>
<li>在<code>theme//_config.yml</code>里面的<code>menu</code>一项，添加一行：<code>about: /about/ || user</code>。</li>
</ol>
<h4 id="hexo增加tagscategories-页面">Hexo增加<code>tags/categories</code> 页面</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="c1"># tags</span>
$ hexo new page <span class="s2">&#34;tags&#34;</span>
$ vim source/tags/index.md
    ---
    title: 文章标签
    date: 2020-02-01 17:37:35  <span class="c1"># 时间随意</span>
    type: <span class="s2">&#34;tags&#34;</span>                            <span class="c1"># 类型一定要为tags</span>
    comments: <span class="nb">false</span>                   <span class="c1"># 提示这个页面不需要加载评论</span>
    ---
$ vim themes/next/_config.yml
    menu:
      <span class="c1"># ...</span>
      tags: /tags/ <span class="o">||</span> tags
      <span class="c1"># ...</span>

<span class="c1"># categories</span>
$ hexo new page <span class="s2">&#34;categories&#34;</span>
$ vim source/categories/index.md
    ---
    title: 文章分类
    date: 2020-02-01 17:32:39
    type: <span class="s2">&#34;categories&#34;</span>                  <span class="c1"># 类型一定要为categories</span>
    comments: <span class="nb">false</span>
    ---
$ vim themes/next/_config.yml
    menu:
      <span class="c1"># ...</span>
      categories: /categories/ <span class="o">||</span> th
      <span class="c1"># ...</span>
</code></pre></td></tr></table>
</div>
</div><h4 id="配置-hexo-中-next-主题样式选择">配置 hexo 中 next 主题样式选择</h4>
<p>NexT 一共提供了 4 种首页样式，按照自己喜好选择一个，选择一个其他主题样式后其他的主题前一定要加上注释#：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-yaml" data-lang="yaml"><span class="c"># Schemes</span><span class="w">
</span><span class="w"></span><span class="k">scheme</span><span class="p">:</span><span class="w"> </span>Muse<span class="w">
</span><span class="w"></span><span class="c">#scheme: Mist</span><span class="w">
</span><span class="w"></span><span class="c">#scheme: Pisces</span><span class="w">
</span><span class="w"></span><span class="c">#scheme: Gemini</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div><h4 id="新建一个-404-页面">新建一个 404 页面</h4>
<p>首先在 hexo/source 目录下创建自己的 404.html,
注意：Hexo 博客的基本内容是一些 Markdown 文件，放在 source/_post 文件夹下，每个文件对应一篇文章。除此之外，放在 source 文件夹下的所有开头不是下划线的文件，在 hexo generate 的时候，都会被拷贝到 public 文件夹下。但是，Hexo 默认会渲染所有的 HTML 和 Markdown 文件。
因此我们可以简单地在文件开头加上 layout: false 一行来避免渲染：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html">+layout: false
+---

<span class="cp">&lt;!DOCTYPE html&gt;</span>
</code></pre></td></tr></table>
</div>
</div><h4 id="配置-hexo-站点的-footer-信息">配置 hexo 站点的 footer 信息</h4>
<p>底部 footer 可以开关显示 hexo 信息、theme 信息、建站时间以及网站备案号等个性化配置：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-yaml" data-lang="yaml"><span class="k">footer</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="k">since</span><span class="p">:</span><span class="w"> </span><span class="m">2018</span><span class="w">   </span><span class="c"># 建站开始时间</span><span class="w">
</span><span class="w">  </span><span class="k">icon</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="k">name</span><span class="p">:</span><span class="w"> </span>heart<span class="w">      </span><span class="c"># 设置 建站初始时间和至今时间中间的图标，默认是一个&#39;小人像&#39;，更改user为heart可以变成一个心</span><span class="w">
</span><span class="w">    </span><span class="k">animated</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="w">    </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;#ff0000&#34;</span><span class="w">  </span><span class="c"># 更改图标的颜色为红色  </span><span class="w">
</span><span class="w">  </span><span class="c">#显示版权作者</span><span class="w">
</span><span class="w">  </span><span class="k">copyright</span><span class="p">:</span><span class="w"> </span>JohnnyChan<span class="w">
</span><span class="w">  </span><span class="k">powered</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="k">enable</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">        </span><span class="c"># 开启hexo驱动显示</span><span class="w">
</span><span class="w">    </span><span class="k">version</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">       </span><span class="c"># 开启hexo版本号</span><span class="w">
</span><span class="w">  </span><span class="k">theme</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="k">enable</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">       </span><span class="c"># 开启主题驱动</span><span class="w">
</span><span class="w">    </span><span class="k">version</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">       </span><span class="c"># 开启主题版本号</span><span class="w">
</span><span class="w">  </span><span class="k">beian</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="k">enable</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">                </span><span class="c"># 开启备案号显示</span><span class="w">
</span><span class="w">    </span><span class="k">icp</span><span class="p">:</span><span class="w"> </span>粤ICP备...<span class="w">              </span><span class="c"># 备案号</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div><h4 id="设置侧栏">设置侧栏</h4>
<p>默认情况下，侧栏仅在文章页面（拥有目录列表）时才显示，并放置于右侧位置。可以通过修改主题配置文件中的 sidebar 字段来控制侧栏的行为。侧栏的设置包括两个部分，其一是侧栏的位置， 其二是侧栏显示的时机。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-yaml" data-lang="yaml"><span class="k">sidebar</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="k">position</span><span class="p">:</span><span class="w"> </span>right<span class="w">
</span><span class="w">  </span><span class="k">display</span><span class="p">:</span><span class="w"> </span>post<span class="w">
</span><span class="w">  </span><span class="k">onmobile</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="c"># 移动端显示侧栏,只有设计模板为Muse或Mist才能使用</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div><p>设置侧栏的位置，修改 sidebar.position 的值，支持的选项有：</p>
<ul>
<li>left - 靠左放置</li>
<li>right - 靠右放置
设置侧栏显示的时机，修改 sidebar.display 的值，支持的选项有：</li>
<li>post - 默认行为，在文章页面（拥有目录列表）时显示</li>
<li>always - 在所有页面中都显示</li>
<li>hide - 在所有页面中都隐藏（可以手动展开）</li>
<li>remove - 完全移除</li>
</ul>
<h4 id="头像信息设置">头像信息设置</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-yaml" data-lang="yaml"><span class="k">avatar</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="k">url</span><span class="p">:</span><span class="w"> </span>/images/avatar.jpg<span class="w">  </span><span class="c"># 设置头像资源的位置</span><span class="w">
</span><span class="w">  </span><span class="k">rounded</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">            </span><span class="c"># 开启圆形头像</span><span class="w">
</span><span class="w">  </span><span class="k">rotated</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">           </span><span class="c"># 开启旋转</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div><h4 id="社交信息和友链配置">社交信息和友链配置</h4>
<p>这里和菜单设置格式一样，社交名字: 社交url || 社交图标，图标信息来自 fontawesome：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-yaml" data-lang="yaml"><span class="k">social</span><span class="p">:</span><span class="w"> 
</span><span class="w">  </span><span class="k">GitHub</span><span class="p">:</span><span class="w"> </span>https<span class="p">:</span>//github.com/yourname<span class="w"> </span>||<span class="w"> </span>github<span class="w">
</span><span class="w">  </span><span class="k">E-Mail</span><span class="p">:</span><span class="w"> </span>mailto<span class="p">:</span>yourname@gmail.com<span class="w"> </span>||<span class="w"> </span>envelope<span class="w">
</span><span class="w"></span><span class="k">social_icons</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="k">enable</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">         </span><span class="c"># 显示社交图标</span><span class="w">
</span><span class="w">  </span><span class="c"># 仅显示图标 </span><span class="w">
</span><span class="w">  </span><span class="k">icons_only</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">  </span><span class="c"># 只显示图标，不显示文字</span><span class="w">
</span><span class="w">  </span><span class="k">transition</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">   </span><span class="c"># 动画效果</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div><h4 id="首页文章属性">首页文章属性</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-yaml" data-lang="yaml"><span class="k">post_meta</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="k">item_text</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">    </span><span class="c">#  可以一行显示，文章的所有属性</span><span class="w">
</span><span class="w">  </span><span class="k">created_at</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">    </span><span class="c"># 显示创建时间</span><span class="w">
</span><span class="w">  </span><span class="k">updated_at</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="k">enabled</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">     </span><span class="c"># 显示修改的时间</span><span class="w">
</span><span class="w">    </span><span class="k">another_day</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">  </span><span class="c"># 设true时，如果创建时间和修改时间一样则显示一个时间</span><span class="w">
</span><span class="w">  </span><span class="k">categories</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">    </span><span class="c"># 显示分类信息</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div><h4 id="开启文章目录">开启文章目录</h4>
<p>编辑主题配置文件，配置如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-yaml" data-lang="yaml"><span class="k">toc</span><span class="p">:</span><span class="w"> </span><span class="c">#侧栏中的目录</span><span class="w">
</span><span class="w">  </span><span class="k">enable</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="c">#是否自动生成目录</span><span class="w">
</span><span class="w">  </span><span class="k">number</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="c">#目录是否自动产生编号</span><span class="w">
</span><span class="w">  </span><span class="k">wrap</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">  </span><span class="c">#标题过长是否换行</span><span class="w">
</span><span class="w">  </span><span class="k">expand_all</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="w">  </span><span class="k">max_depth</span><span class="p">:</span><span class="w"> </span><span class="m">6</span><span class="w"> </span><span class="c">#最大标题深度</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div><h4 id="follow-me-on-github">Follow me on GitHub</h4>
<p>编辑主题配置文件，配置如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-yaml" data-lang="yaml"><span class="c"># #添加右上角github绑定</span><span class="w">
</span><span class="w"></span><span class="k">github_banner</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="k">enable</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="w">  </span><span class="k">permalink</span><span class="p">:</span><span class="w"> </span>https<span class="p">:</span>//github.com/johnnyww<span class="p">?</span>tab=repositories<span class="w">
</span><span class="w">  </span><span class="k">title</span><span class="p">:</span><span class="w"> </span>Follow<span class="w"> </span>me<span class="w"> </span>on<span class="w"> </span>GitHub<span class="w">
</span></code></pre></td></tr></table>
</div>
</div><h4 id="阅读书签">阅读书签</h4>
<p>Bookmark是一个插件，允许用户保存他们的阅读进度。用户只需单击页面左上角的书签图标即可保存滚动位置。当他们下次访问您的博客时，他们可以自动恢复每个页面的最后滚动位置。 编辑主题配置文件，配置如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-yaml" data-lang="yaml">bookmark<span class="p">:</span><span class="w">	
</span><span class="w">  </span><span class="k">enable</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">	
</span><span class="w">  </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;#222&#34;</span><span class="w">
</span><span class="w">  </span><span class="k">save</span><span class="p">:</span><span class="w"> </span>auto<span class="w">
</span></code></pre></td></tr></table>
</div>
</div><h4 id="字数统计阅读时长">字数统计、阅读时长</h4>
<p>首先安装插件：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ npm install hexo-symbols-count-time --save
</code></pre></td></tr></table>
</div>
</div><p>主题配置文件修改如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-yaml" data-lang="yaml"><span class="k">symbols_count_time</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="k">separated_meta</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="c"># 统计信息不换行显示</span><span class="w">
</span><span class="w">  </span><span class="k">item_text_post</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="c"># 文章统计信息中是否显示“本文字数/阅读时长”等描述文字</span><span class="w">
</span><span class="w">  </span><span class="k">item_text_total</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="c"># 底部footer站点统计信息中是否显示“本文字数/阅读时长”等描述文字</span><span class="w">
</span><span class="w">  </span><span class="k">awl</span><span class="p">:</span><span class="w"> </span><span class="m">4</span><span class="w"> </span><span class="c"># 平均字符长度</span><span class="w">
</span><span class="w">  </span><span class="k">wpm</span><span class="p">:</span><span class="w"> </span><span class="m">275</span><span class="w"> </span><span class="c"># 阅读速度, 一分钟阅读的字数</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div><p>站点配置文件 新增如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-yaml" data-lang="yaml"><span class="c"># 新增文章字数统计</span><span class="w">
</span><span class="w"></span><span class="k">symbols_count_time</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="c">#文章内是否显示</span><span class="w">
</span><span class="w">  </span><span class="k">symbols</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="c"># 文章字数</span><span class="w">
</span><span class="w">  </span><span class="k">time</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="c"># 阅读时长</span><span class="w">
</span><span class="w">  </span><span class="c"># 网页底部是否显示</span><span class="w">
</span><span class="w">  </span><span class="k">total_symbols</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="c"># 所有文章总字数</span><span class="w">
</span><span class="w">  </span><span class="k">total_time</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="c"># 所有文章阅读中时长</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div><h4 id="显示当前浏览进度">显示当前浏览进度</h4>
<p>右下角显示文章当前浏览进度，提供意见置顶功能，编辑主题配置文件，配置如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-yaml" data-lang="yaml"><span class="k">back2top</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="k">enable</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="c">#是否提供一键置顶 </span><span class="w">
</span><span class="w">  </span><span class="k">sidebar</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="w">  </span><span class="k">scrollpercent</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="c"># 是否显示当前阅读进度</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div><h4 id="阅读进度">阅读进度</h4>
<p>Next支持页面滚动阅读进度指示器。
编辑主题配置文件，配置如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-yaml" data-lang="yaml"><span class="k">reading_progress</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="k">enable</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="w">  </span><span class="k">position</span><span class="p">:</span><span class="w"> </span>top<span class="w">
</span><span class="w">  </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;#37c6c0&#34;</span><span class="w">
</span><span class="w">  </span><span class="k">height</span><span class="p">:</span><span class="w"> </span>3px<span class="w">
</span></code></pre></td></tr></table>
</div>
</div><h4 id="图片懒加载">图片懒加载</h4>
<p>对于图片进行延迟加载，访问到图片位置时才去请求图片资源，这样可以提高博客的访问速度，节省流量。 命令如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ git clone https://github.com/theme-next/theme-next-jquery-lazyload source/lib/jquery_lazyload
</code></pre></td></tr></table>
</div>
</div><p>编辑主题配置文件，配置如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-yaml" data-lang="yaml"><span class="k">lazyload</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div><h4 id="添加图片灯箱">添加图片灯箱</h4>
<p>添加灯箱功能，实现点击图片后放大聚焦图片，并支持幻灯片播放、全屏播放、缩略图、快速分享到社交媒体等，该功能由 <a href="https://github.com/fancyapps/fancybox" target="_blank" rel="noopener noreffer">fancyBox</a> 提供，效果如下：
<img
        class="lazyload"
        src="/svg/loading/small.min.svg"
        data-src="https://oss.chenjunxin.com/picture/blogPicture/9ec4151c_fancybox_demo.webp"
        data-srcset="https://oss.chenjunxin.com/picture/blogPicture/9ec4151c_fancybox_demo.webp, https://oss.chenjunxin.com/picture/blogPicture/9ec4151c_fancybox_demo.webp 1.5x, https://oss.chenjunxin.com/picture/blogPicture/9ec4151c_fancybox_demo.webp 2x"
        data-sizes="auto"
        alt="fancyBox 灯箱"
        title="fancyBox 灯箱" />
在根目录下执行以下命令安装相关依赖：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ git clone https://github.com/theme-next/theme-next-fancybox3 themes/next/source/lib/fancybox
</code></pre></td></tr></table>
</div>
</div><p>在主题配置文件中设置 <code>fancybox: true</code>：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-yaml" data-lang="yaml"><span class="k">fancybox</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div><p>刷新浏览器即可生效。</p>
<h4 id="设置代码高亮主题">设置代码高亮主题</h4>
<p>NexT 使用 Tomorrow Theme 作为代码高亮，共有5款主题供你选择。 NexT 默认使用的是 白色的 normal 主题，可选的值有 normal，night， night blue， night bright， night eighties</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-yaml" data-lang="yaml"><span class="k">codeblock</span><span class="p">:</span><span class="w">
</span><span class="w">   </span><span class="k">highlight_theme</span><span class="p">:</span><span class="w"> </span>night<span class="w"> </span>eighties<span class="w">
</span></code></pre></td></tr></table>
</div>
</div><h4 id="代码块新增复制按钮">代码块新增复制按钮</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-yaml" data-lang="yaml"><span class="k">codeblock</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="k">copy_button</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="k">enable</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">      </span><span class="c"># 增加复制按钮的开关</span><span class="w">
</span><span class="w">    </span><span class="k">show_result</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">  </span><span class="c"># 点击复制完后是否显示 复制成功 结果提示</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div><h4 id="文章原创申明">文章原创申明</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-yaml" data-lang="yaml"><span class="k">creative_commons</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="k">license</span><span class="p">:</span><span class="w"> </span>by-nc-sa<span class="w">
</span><span class="w">  </span><span class="k">sidebar</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">  </span><span class="c"># 侧边栏显示版权协议图标</span><span class="w">
</span><span class="w">  </span><span class="k">post</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">       </span><span class="c"># 默认显示版权信息</span><span class="w">
</span><span class="w">  </span><span class="k">language</span><span class="p">:</span><span class="w"> </span>zh-CN<span class="w">
</span></code></pre></td></tr></table>
</div>
</div><h4 id="加载动画">加载动画</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-yaml" data-lang="yaml"><span class="k">motion</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="k">enable</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">   </span><span class="c"># 启用</span><span class="w">
</span><span class="w">  </span><span class="k">async</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">    </span><span class="c"># 异步加载</span><span class="w">
</span><span class="w">  </span><span class="k">transition</span><span class="p">:</span><span class="w">
</span><span class="w">	</span><span class="c"># 文章摘要动画</span><span class="w">
</span><span class="w">    </span><span class="k">post_block</span><span class="p">:</span><span class="w"> </span>bounceIn<span class="w">
</span><span class="w">    </span><span class="c"># 加载各种页面动画（分类，关于，标签等等）</span><span class="w">
</span><span class="w">    </span><span class="k">post_header</span><span class="p">:</span><span class="w"> </span>slideDownIn<span class="w">
</span><span class="w">    </span><span class="c"># 文章详情动画</span><span class="w">
</span><span class="w">    </span><span class="k">post_body</span><span class="p">:</span><span class="w"> </span>slideDownIn<span class="w">
</span><span class="w">    </span><span class="k">coll_header</span><span class="p">:</span><span class="w"> </span>slideLeftIn<span class="w">
</span><span class="w">    </span><span class="c"># Only for Pisces | Gemini.</span><span class="w">
</span><span class="w">    </span><span class="c"># 侧边栏（人物头像的那部分）</span><span class="w">
</span><span class="w">    </span><span class="k">sidebar</span><span class="p">:</span><span class="w"> </span>slideUpIn<span class="w">
</span></code></pre></td></tr></table>
</div>
</div><h4 id="hexo-本地搜索功能">Hexo 本地搜索功能</h4>
<h5 id="本地搜索的原理">本地搜索的原理</h5>
<p>NexT 主题已经实现这个功能，它用了 Hexo 的拓展包 <code>hexo-generator-searchdb</code>，预先生成了一个文本库 <code>search.xml</code>，然后传到了网站里面。在本地搜索的时候，NexT 直接用 javascript 调用了这个文件，从而实现了静态网站的本地搜索。</p>
<h5 id="插件地址">插件地址</h5>
<ul>
<li><a href="https://github.com/theme-next/hexo-generator-searchdb" target="_blank" rel="noopener noreffer">hexo-generator-searchdb</a></li>
</ul>
<h5 id="安装配置">安装配置</h5>
<p>安装插件：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ npm install hexo-generator-searchdb --save
</code></pre></td></tr></table>
</div>
</div><p>然后我们修改站点配置文件，添加如下内容：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-yaml" data-lang="yaml"><span class="c"># 本地搜索</span><span class="w">
</span><span class="w"></span><span class="k">search</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="k">path</span><span class="p">:</span><span class="w"> </span>search.xml<span class="w">
</span><span class="w">  </span><span class="k">field</span><span class="p">:</span><span class="w"> </span>post<span class="w">
</span><span class="w">  </span><span class="k">format</span><span class="p">:</span><span class="w"> </span>html<span class="w">
</span><span class="w">  </span><span class="k">limit</span><span class="p">:</span><span class="w"> </span><span class="m">10000</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div><ul>
<li>path：索引文件的路径，相对于站点根目录</li>
<li>field：搜索范围，默认是 post，还可以选择 page、all，设置成 all 表示搜索所有页面</li>
<li>limit：限制搜索的条目数
然后修改主题配置文件：</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-yaml" data-lang="yaml"><span class="c"># Local Search</span><span class="w">
</span><span class="w"></span><span class="c"># Dependencies: https://github.com/theme-next/hexo-generator-searchdb</span><span class="w">
</span><span class="w"></span><span class="k">local_search</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="k">enable</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="w">  </span><span class="k">trigger</span><span class="p">:</span><span class="w"> </span>auto<span class="w">
</span><span class="w">  </span><span class="k">top_n_per_article</span><span class="p">:</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="c">#每篇文章中显示的搜索数量</span><span class="w">
</span><span class="w">  </span><span class="k">unescape</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="w">  </span><span class="k">preload</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div><h4 id="数据分析与统计">数据分析与统计</h4>
<h5 id="访问次数统计">访问次数统计</h5>
<p>NexT内置了leancloud、firebase、busuanzi三种访客统计插件，前两种需要到官网注册获取网站颁发的appKey，相对麻烦，有兴趣的请访问<a href="https://www.leancloud.cn/" target="_blank" rel="noopener noreffer">leancloud</a>、<a href="https://console.firebase.google.com/u/0/" target="_blank" rel="noopener noreffer">firebase</a>。而不蒜子配置只需要将false改为true即可:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-yaml" data-lang="yaml"><span class="c"># busuanzi统计</span><span class="w">
</span><span class="w"></span><span class="k">busuanzi_count</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="k">enable</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="w">  </span><span class="c"># 总访客数</span><span class="w">
</span><span class="w">  </span><span class="k">total_visitors</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="w">  </span><span class="k">total_visitors_icon</span><span class="p">:</span><span class="w"> </span>user<span class="w">
</span><span class="w">  </span><span class="c"># 总浏览量</span><span class="w">
</span><span class="w">  </span><span class="k">total_views</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="w">  </span><span class="k">total_views_icon</span><span class="p">:</span><span class="w"> </span>eye<span class="w">
</span><span class="w">  </span><span class="c"># 文章浏览量</span><span class="w">
</span><span class="w">  </span><span class="k">post_views</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="w">  </span><span class="k">post_views_icon</span><span class="p">:</span><span class="w"> </span>eye<span class="w">
</span></code></pre></td></tr></table>
</div>
</div><p>更多用法请参考官网说明<a href="http://ibruce.info/2015/04/04/busuanzi/" target="_blank" rel="noopener noreffer">不蒜子官网</a>。</p>
<h5 id="百度统计">百度统计</h5>
<p>起初以为阅读统计是通过百度统计进行计数的，后来发现百度统计、Google Analytics等只是分析工具，并不会把统计信息显示在博客页面上，所以是否需要百度统计看个人需求。打开<a href="http://tongji.baidu.com/" target="_blank" rel="noopener noreffer">百度统计</a>，登录并进入网站列表，点击新增网站。填写新增网站表单，添加必要字段网站域名：<a href="www.chenjunxin.com" rel="">www.chenjunxin.com</a>, 网站首页：<a href="https://chenjunxin.com" target="_blank" rel="noopener noreffer">https://chenjunxin.com</a>, 网站名称 、行业类别(空间周边)选填。点击“确定”后，定位到站点的代码获取页面,会出现包含如下信息的提示：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="o">&lt;</span><span class="nx">script</span><span class="o">&gt;</span>
<span class="kd">var</span> <span class="nx">_hmt</span> <span class="o">=</span> <span class="nx">_hmt</span> <span class="o">||</span> <span class="p">[];</span>
<span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">hm</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&#34;script&#34;</span><span class="p">);</span>
  <span class="nx">hm</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="s2">&#34;https://hm.baidu.com/hm.js?c694f10d0cd3c87d69a8be39bb4e7a46&#34;</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">s</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">&#34;script&#34;</span><span class="p">)[</span><span class="mi">0</span><span class="p">];</span> 
  <span class="nx">s</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">hm</span><span class="p">,</span> <span class="nx">s</span><span class="p">);</span>
<span class="p">})();</span>
<span class="o">&lt;</span><span class="err">/script&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p>复制”https://hm.baidu.com/hm.js?&rdquo; 后面的Id字符串，粘贴到主题配置文件中</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-yaml" data-lang="yaml"><span class="c"># Baidu Analytics ID</span><span class="w">
</span><span class="w"></span><span class="k">baidu_analytics</span><span class="p">:</span><span class="w"> </span>c694f10d0cd3c87d69a8be39bb4e7a46<span class="w">
</span></code></pre></td></tr></table>
</div>
</div><p>重新打包静态文件并发布：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ hexo g
$ hexo s
</code></pre></td></tr></table>
</div>
</div><p>点击百度统计控制台，代码管理-&gt;代码安装检查进行安装校验。</p>
<h5 id="添加-google-统计">添加 Google 统计</h5>
<p>访问 <a href="https://analytics.google.com/" target="_blank" rel="noopener noreffer">Google Analytics</a>
注册登录后，新增一个统计网站，填写网站信息，点击下面的获取统计 ID，如图：
<img
        class="lazyload"
        src="/svg/loading/small.min.svg"
        data-src="https://oss.chenjunxin.com/picture/blogPicture/9ec4151c_google_analytics_picture_00.webp"
        data-srcset="https://oss.chenjunxin.com/picture/blogPicture/9ec4151c_google_analytics_picture_00.webp, https://oss.chenjunxin.com/picture/blogPicture/9ec4151c_google_analytics_picture_00.webp 1.5x, https://oss.chenjunxin.com/picture/blogPicture/9ec4151c_google_analytics_picture_00.webp 2x"
        data-sizes="auto"
        alt="https://oss.chenjunxin.com/picture/blogPicture/9ec4151c_google_analytics_picture_00.webp"
        title="https://oss.chenjunxin.com/picture/blogPicture/9ec4151c_google_analytics_picture_00.webp" />
进入页面后，你会看到统计 ID，复制它，如图：
<img
        class="lazyload"
        src="/svg/loading/small.min.svg"
        data-src="https://oss.chenjunxin.com/picture/blogPicture/9ec4151c_google_analytics_picture_01.webp"
        data-srcset="https://oss.chenjunxin.com/picture/blogPicture/9ec4151c_google_analytics_picture_01.webp, https://oss.chenjunxin.com/picture/blogPicture/9ec4151c_google_analytics_picture_01.webp 1.5x, https://oss.chenjunxin.com/picture/blogPicture/9ec4151c_google_analytics_picture_01.webp 2x"
        data-sizes="auto"
        alt="https://oss.chenjunxin.com/picture/blogPicture/9ec4151c_google_analytics_picture_01.webp"
        title="https://oss.chenjunxin.com/picture/blogPicture/9ec4151c_google_analytics_picture_01.webp" />
然后编辑主题配置文件，找到关键字 <code>google_analytics</code>，删除注释<code>#</code>并填写获取到的统计 ID：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-yaml" data-lang="yaml"><span class="c"># Google Analytics</span><span class="w">
</span><span class="w"></span><span class="k">google_analytics</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="k">tracking_id</span><span class="p">:</span><span class="w"> </span>UA-<span class="cp">*******</span><span class="w">
</span><span class="w">  </span><span class="k">localhost_ignored</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div><p>PS：谷歌统计用的比较少，因为有墙，在加载代码的时候，很容易阻塞。所以在国内使用百度比较多。</p>
<h4 id="google-search-console">Google Search Console</h4>
<p>该版本已经集成了 HTML 标记的验证方式。</p>
<ul>
<li>查看原标记，将其中 content 字段引号内的内容拷贝出来</li>
<li>修改主题配置文件。搜索 <code>google_site_verification</code>，将上述拷贝的内容复制在该值后面：</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-yaml" data-lang="yaml"><span class="c"># Google Webmaster tools verification setting</span><span class="w">
</span><span class="w"></span><span class="c"># See: https://www.google.com/webmasters/</span><span class="w">
</span><span class="w"></span><span class="k">google_site_verification</span><span class="p">:</span><span class="w"> </span><span class="cp">********</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div><h4 id="hexo博客提交百度和google收录">Hexo博客提交百度和Google收录</h4>
<p>SEO（Search Engine Optimization）：中文译为搜索引擎优化，即利用搜索引擎的规则提高网站搜索引擎内自然排名。主要通过站内优化比如网站结构调整、网站内容建设、网站代码优化等以及站外优化等方式实现。</p>
<p>主要是给各个搜索引擎提交你的 sitemap，让别人能搜到你博客的内容。
先确认博客是否被搜索引擎收录，在百度或者谷歌输入下面格式来判断，如果能搜索到就说明被收录，否则就没有。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">site:写你要搜索的域名 # site:www.chenjunxin.com
</code></pre></td></tr></table>
</div>
</div><p>开启 Next 主题的 SEO 优化项
Next 提供了 seo 优化选项，在主题配置文件_config.yml中有个选项是seo，设置成true即开启了 seo 优化。</p>
<h5 id="让google和百度收录博客">让Google和百度收录博客</h5>
<p>由于两者方法相似，相似的部分一起讲。</p>
<h6 id="验证站点">验证站点</h6>
<p>打开<a href="https://ziyuan.baidu.com/" target="_blank" rel="noopener noreffer">百度站长平台</a>，注册登陆后在<code>用户中心 &gt; 站点管理</code>下添加网站。根据提示输入站点地址等信息，建议输入的域名为<code>www</code>开头的。
登陆<a href="https://search.google.com/search-console/welcome" target="_blank" rel="noopener noreffer">google search console</a>（选右边），添加你的网站地址。
在选择完网站的类型之后需要验证网站的所有权，有3种验证方式：</p>
<ul>
<li>HTML文件验证：将验证文件放置于您所配置域名的根目录下，即放在博客的本地根目录的source文件夹下（要设置skip_render）。</li>
<li>HTML标签验证：baidu_site_verification或者google_site_verification后添加HTML标签content后的内容（推荐)，如下：
打开 Hexo 主题配置文件，按如下修改/添加：</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-yaml" data-lang="yaml"><span class="k">google_site_verification</span><span class="p">:</span><span class="w"> </span><span class="c">#索引擎提供给你的HTML标签的content后的内容</span><span class="w">
</span><span class="w"></span><span class="k">baidu_site_verification</span><span class="p">:</span><span class="w"> </span><span class="c">#索引擎提供给你的HTML标签content后的内容</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div><ul>
<li>CNAME验证：按要求添加一条CNAME解析</li>
</ul>
<h5 id="生成站点地图">生成站点地图</h5>
<p>站点地图即<a href="https://baike.baidu.com/item/sitemap/6241567?fr=aladdin" target="_blank" rel="noopener noreffer">sitemap</a>， 是一个页面，上面放置了网站上需要搜索引擎抓取的所有页面的链接。站点地图可以告诉搜索引擎网站上有哪些可供抓取的网页，以便搜索引擎可以更加智能地抓取网站。
安装百度和Google的站点地图生成插件：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ npm install hexo-generator-baidu-sitemap --save
$ npm install hexo-generator-sitemap --save
</code></pre></td></tr></table>
</div>
</div><p>在博客根目录的<code>_config.yml</code>中改<code>url</code>为你的站点地址：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-yaml" data-lang="yaml"><span class="c"># URL</span><span class="w">
</span><span class="w"></span><span class="k">url</span><span class="p">:</span><span class="w"> </span>https<span class="p">:</span>//www.chenjunxin.com/<span class="w">
</span><span class="w"></span><span class="k">root</span><span class="p">:</span><span class="w"> </span>/<span class="w">
</span><span class="w"></span><span class="c"># permalink: :year/:month/:day/:title/</span><span class="w">
</span><span class="w"></span><span class="k">permalink</span><span class="p">:</span><span class="w"> </span><span class="p">:</span>title/<span class="w">
</span></code></pre></td></tr></table>
</div>
</div><p>在博客根目录的<code>_config.yml</code>中添加如下代码：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-yaml" data-lang="yaml"><span class="k">baidusitemap</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="k">path</span><span class="p">:</span><span class="w"> </span>baidusitemap.xml<span class="w">
</span><span class="w"></span><span class="k">sitemap</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="k">path</span><span class="p">:</span><span class="w"> </span>sitemap.xml<span class="w">
</span></code></pre></td></tr></table>
</div>
</div><p>之后重新打包<code>hexo g -d</code>，若在你的博客根目录的<code>public</code>下面发现生成了<code>sitemap.xml</code>以及<code>baidusitemap.xml</code>就表示成功了，其中<code>sitemap.xml</code>文件是搜索引擎通用的文件，<code>baidusitemap.xml</code>是百度专用的 sitemap 文件。可以通过<code>https://&lt;域名&gt;/baidusitemap.xml</code>查看该文件。</p>
<h5 id="添加-robotstxt">添加 robots.txt</h5>
<p><code>robots.txt</code>是搜索引擎蜘蛛协议，告诉引擎哪些要收录，哪些禁止收录。
<code>source</code>文件夹下新建 robots.txt，内容如下:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">User-agent: *
Allow: /
Allow: /archives/
Allow: /categories/
Allow: /tags/

Disallow: /js/
Disallow: /css/
Disallow: /fonts/
Disallow: /vendors/
Disallow: /fancybox/

Sitemap: https://www.chenjunxin.com/sitemap.xml
Sitemap: https://www.chenjunxin.com/baidusitemap.xml
</code></pre></td></tr></table>
</div>
</div><h5 id="提交sitemap">提交sitemap</h5>
<p>谷歌：在 google search console 站点地图，提交sitemap.xml
百度：在百度站长平台&ndash;链接提交&ndash;自动提交&ndash;sitemap，添加<a href="https://www.chenjunxin.com/baidusitemap.xml" target="_blank" rel="noopener noreffer">https://www.chenjunxin.com/baidusitemap.xml</a>
对于百度，除了 sitemap 还有主动推动和自动推送这两种方式，主动推送的原理是每次 deploy 的时候都把所有链接推送给百度，自动推送则是每次网站被访问时都把该链接推送给百度。从效率上来说：主动推送&gt;自动推送&gt;sitemap。</p>
<h5 id="主动推送">主动推送</h5>
<ol>
<li>插件安装</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ npm install hexo-baidu-url-submit --save
</code></pre></td></tr></table>
</div>
</div><ol start="2">
<li>修改站点配置文件
在 hexo/_config.yml，添加以下内容</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-yaml" data-lang="yaml"><span class="k">baidu_url_submit</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="k">count</span><span class="p">:</span><span class="w"> </span><span class="m">5</span><span class="w">
</span><span class="w">  </span><span class="k">host</span><span class="p">:</span><span class="w"> </span>your_site<span class="w">
</span><span class="w">  </span><span class="k">token</span><span class="p">:</span><span class="w"> </span>your_token<span class="w">
</span><span class="w">  </span><span class="k">path</span><span class="p">:</span><span class="w"> </span>baidu_urls.txt<span class="w">
</span></code></pre></td></tr></table>
</div>
</div><p>其中 count 表示一次推送提交最新的N个链接；host 和 token 可以在百度站点页面-&gt;数据引入-&gt;链接提交可以找到；path 为生成的文件名，里面存有推送的，网站的链接地址。
确保your_site 项跟百度注册的站点一致。
同样修改站点配置文件的 deploy 项，增加对 baidu 的推送：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-yaml" data-lang="yaml"><span class="k">deploy</span><span class="p">:</span><span class="w">                                         
</span><span class="w"></span>- <span class="k">type</span><span class="p">:</span><span class="w"> </span>baidu_url_submitter<span class="w">
</span></code></pre></td></tr></table>
</div>
</div><p>重新生成，发布 hexo d，</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="o">{</span><span class="s2">&#34;remain&#34;</span>:99998,<span class="s2">&#34;success&#34;</span>:2<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p>可以看到推送给百度成功。</p>
<h5 id="自动推送">自动推送</h5>
<p>首先，在主题配置文件下设置，将baidu_push设置为true：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-yaml" data-lang="yaml"><span class="k">baidu_push</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div><p>然后查看<code>themes/next/layout/_third-party/baidu-push.swig</code>文件中是否包含如下百度提供的自动推送代码，没有的话要添加：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">{% if theme.baidu_push %}
&lt;script&gt;
(function(){
    var bp = document.createElement(&#39;script&#39;);
    var curProtocol = window.location.protocol.split(&#39;:&#39;)[0];
    if (curProtocol === &#39;https&#39;) {
        bp.src = &#39;https://zz.bdstatic.com/linksubmit/push.js&#39;;        
    }
    else {
        bp.src = &#39;http://push.zhanzhang.baidu.com/push.js&#39;;
    }
    var s = document.getElementsByTagName(&#34;script&#34;)[0];
    s.parentNode.insertBefore(bp, s);
})();
&lt;/script&gt;
{% endif %}
</code></pre></td></tr></table>
</div>
</div><h5 id="为网站添加关键字seo优化">为网站添加关键字,SEO优化</h5>
<ol>
<li>设置hexo博客的关键字。在博客根目录下找到 _config.yml 文件，在所示地方添加keywords: 关键字1,关键字2,关键字3…，采用英文逗号隔开，注意keywords与关键词之间的空格:</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-diff" data-lang="diff">title: 
subtitle: &#39;&#39;
description: 
author: 
language: 
timezone: &#39;&#39;
<span class="gi">+ keywords: JAVA,Linux,Manjaro,Hexo,Travis
</span></code></pre></td></tr></table>
</div>
</div><ol start="2">
<li>设置文章的关键字。在文章里面加入keywords，如下所示：</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">---
title: ###
date: ###
categories: ###
tags: ###
keywords: ###
description: ###
---
</code></pre></td></tr></table>
</div>
</div><h5 id="hexo-abbrlink-链接持久化">hexo-abbrlink 链接持久化</h5>
<p>hexo 默认的链接是 <code>http://xxx.yy.com/2019/02/14/hello-world</code> 这种类型的，这源于站点目录下的配置 <code>_config.yml</code> 里的配置 <code>:permalink: :year/:month/:day/:title/</code>，这种默认配置的缺点就是一般文件名是中文，导致 url 链接里有中文出现，这会造成很多问题，不利于 SEO，另外年月日都会有分隔符。
<code>hexo-abbrlink</code>这个插件，猜测是根据时间点算出的最终链接，这样就确保了博文链接的唯一化，只要不修改 md 文件的<code>abbrlink</code>的值， url 就永久不会改变。如此 md 文件名和文件内容也可以随便改了。后面的层级更短，这样也有利于 SEO 优化。</p>
<ul>
<li>安装：</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">$ npm install hexo-abbrlink --save
</code></pre></td></tr></table>
</div>
</div><ul>
<li>配置：站点配置文件里:</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-yaml" data-lang="yaml"><span class="k">permalink</span><span class="p">:</span><span class="w"> </span>post/<span class="p">:</span>abbrlink.html<span class="w">
</span><span class="w"></span><span class="k">abbrlink</span><span class="p">:</span><span class="w">
</span><span class="w"> </span><span class="k">alg</span><span class="p">:</span><span class="w"> </span>crc32<span class="w">  </span><span class="c"># 算法：crc16(default) and crc32</span><span class="w">
</span><span class="w"> </span><span class="k">rep</span><span class="p">:</span><span class="w"> </span>hex<span class="w">    </span><span class="c"># 进制：dec(default) and hex</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div><p>百度蜘蛛抓取网页的规则: 对于蜘蛛说网页权重越高、信用度越高抓取越频繁，例如网站的首页和内页。蜘蛛先抓取网站的首页，因为首页权重更高，并且大部分的链接都是指向首页。然后通过首页抓取网站的内页，并不是所有内页蜘蛛都会去抓取。</p>
<p>搜索引擎认为对于一般的中小型站点，3层足够承受所有的内容了，所以蜘蛛经常抓取的内容是前三层，而超过三层的内容蜘蛛认为那些内容并不重要，所以不经常爬取。出于这个原因所以<code>permalink</code>后面跟着的最好不要超过2个斜杠。</p>
<h5 id="hexo-autonofollow">hexo-autonofollow</h5>
<p>nofollow 标签是由谷歌领头创新的一个反垃圾链接的标签，并被百度、yahoo 等各大搜索引擎广泛支持，引用 nofollow 标签的目的是：用于指示搜索引擎不要追踪（即抓取）网页上的带有 nofollow 属性的任何出站链接，以减少垃圾链接的分散网站权重。这里推荐 <code>hexo-autonofollow</code> 插件来解决。</p>
<ul>
<li>安装：</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ npm install hexo-autonofollow  --save
</code></pre></td></tr></table>
</div>
</div><ul>
<li>配置 在站点配置文件中添加以下代码：</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-yml" data-lang="yml"><span class="k">nofollow</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="k">enable</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="w">  </span><span class="k">exclude</span><span class="p">:</span><span class="w"> </span><span class="c"># 例外的链接，可将友情链接放置此处</span><span class="w">
</span><span class="w">   </span>- exclude1.com<span class="w">
</span><span class="w">   </span>- exclude2.com<span class="w">
</span></code></pre></td></tr></table>
</div>
</div><h4 id="博文压缩">博文压缩</h4>
<p>我们利用Hexo生成的博客文件中存在大量的空格和空行，从而使得博客资源中有很多不必要的内存消耗，使得网站加载变慢，使用gulp压缩资源，首先安装：
在站点的根目录下执行以下命令</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ npm install gulp -g
$ npm installgulp-clean-css gulp-uglify gulp-htmlmin gulp-htmlclean gulp-imagemin --save
</code></pre></td></tr></table>
</div>
</div><p>安装gulp-imagemin时会安装gifsicle的一些依赖，如果命令行出现:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ /bin/sh: autoreconf: <span class="nb">command</span> not found
</code></pre></td></tr></table>
</div>
</div><p>则是系统缺少安装gifsicle的命令autoreconf，执行如下命令:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ yum install autoconf automake libtool
</code></pre></td></tr></table>
</div>
</div><p>在博客根目录下新建 gulpfile.js ，并填入以下内容：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">gulp</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;gulp&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">minifycss</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;gulp-clean-css&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">uglify</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;gulp-uglify&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">htmlmin</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;gulp-htmlmin&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">htmlclean</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;gulp-htmlclean&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">imagemin</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;gulp-imagemin&#39;</span><span class="p">);</span>

<span class="c1">// 压缩html
</span><span class="c1"></span><span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="s1">&#39;minify-html&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">gulp</span><span class="p">.</span><span class="nx">src</span><span class="p">(</span><span class="s1">&#39;./public/**/*.html&#39;</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">htmlclean</span><span class="p">())</span>
        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">htmlmin</span><span class="p">({</span>
            <span class="nx">collapseWhitespace</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="c1">//从字面意思应该可以看出来，清除空格，压缩html，这一条比较重要，作用比较大，引起的改变压缩量也特别大
</span><span class="c1"></span>            <span class="nx">collapseBooleanAttributes</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="c1">//省略布尔属性的值，比如：&lt;input checked=&#34;checked&#34;/&gt;,那么设置这个属性后，就会变成 &lt;input checked/&gt;
</span><span class="c1"></span>            <span class="nx">removeComments</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="c1">//清除html中注释的部分
</span><span class="c1"></span>            <span class="nx">removeEmptyAttributes</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="c1">//清除所有的空属性
</span><span class="c1"></span>            <span class="nx">removeScriptTypeAttributes</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="c1">//清除所有script标签中的type=&#34;text/javascript&#34;属性。
</span><span class="c1"></span>            <span class="nx">removeStyleLinkTypeAttributes</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="c1">//清楚所有Link标签上的type属性。
</span><span class="c1"></span>            <span class="nx">minifyJS</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
            <span class="nx">minifyCSS</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
            <span class="nx">minifyURLs</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="p">}))</span>
        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">dest</span><span class="p">(</span><span class="s1">&#39;./public&#39;</span><span class="p">));</span>
<span class="p">});</span>
<span class="c1">// 压缩css
</span><span class="c1"></span><span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="s1">&#39;minify-css&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">gulp</span><span class="p">.</span><span class="nx">src</span><span class="p">(</span><span class="s1">&#39;./public/**/*.css&#39;</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">minifycss</span><span class="p">({</span>
            <span class="nx">compatibility</span><span class="o">:</span> <span class="s1">&#39;ie8&#39;</span>
        <span class="p">}))</span>
        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">dest</span><span class="p">(</span><span class="s1">&#39;./public&#39;</span><span class="p">));</span>
<span class="p">});</span>
<span class="c1">// 压缩js !代表排除的js,例如[&#39;!./public/js/**/*min.js&#39;]
</span><span class="c1"></span><span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="s1">&#39;minify-js&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">gulp</span><span class="p">.</span><span class="nx">src</span><span class="p">([</span><span class="s1">&#39;./public/js/**/.js&#39;</span><span class="p">])</span>
        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">uglify</span><span class="p">())</span> <span class="c1">//压缩混淆
</span><span class="c1"></span>        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">dest</span><span class="p">(</span><span class="s1">&#39;./public&#39;</span><span class="p">));</span>
<span class="p">});</span>
<span class="c1">// 压缩public/images 目录内图片(gulp Version&gt;3)
</span><span class="c1">//            optimizationLevel: 5, //类型：Number  默认：3  取值范围：0-7（优化等级）
</span><span class="c1">//             progressive: true, //类型：Boolean 默认：false 无损压缩jpg图片
</span><span class="c1">//             interlaced: false, //类型：Boolean 默认：false 隔行扫描gif进行渲染
</span><span class="c1">//             multipass: false, //类型：Boolean 默认：false 多次优化svg直到完全优化
</span><span class="c1"></span><span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="s1">&#39;minify-images&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">gulp</span><span class="p">.</span><span class="nx">src</span><span class="p">(</span><span class="s1">&#39;./public/images/**/*.*&#39;</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">imagemin</span><span class="p">(</span>
        <span class="p">[</span><span class="nx">imagemin</span><span class="p">.</span><span class="nx">gifsicle</span><span class="p">({</span><span class="nx">interlaced</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span><span class="nx">optimizationLevel</span><span class="o">:</span> <span class="mi">3</span><span class="p">}),</span>
        <span class="nx">imagemin</span><span class="p">.</span><span class="nx">mozjpeg</span><span class="p">({</span><span class="nx">progressive</span><span class="o">:</span> <span class="kc">true</span><span class="p">}),</span>
        <span class="nx">imagemin</span><span class="p">.</span><span class="nx">optipng</span><span class="p">({</span><span class="nx">optimizationLevel</span><span class="o">:</span> <span class="mi">7</span><span class="p">}),</span>
        <span class="nx">imagemin</span><span class="p">.</span><span class="nx">svgo</span><span class="p">({</span>
                <span class="nx">plugins</span><span class="o">:</span> <span class="p">[</span>
                        <span class="p">{</span><span class="nx">removeViewBox</span><span class="o">:</span> <span class="kc">true</span><span class="p">},</span>
                        <span class="p">{</span><span class="nx">cleanupIDs</span><span class="o">:</span> <span class="kc">false</span><span class="p">}</span>
                <span class="p">]</span>
        <span class="p">})],</span>
        <span class="p">{</span><span class="nx">verbose</span><span class="o">:</span> <span class="kc">true</span><span class="p">}))</span>
        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">dest</span><span class="p">(</span><span class="s1">&#39;./public/images&#39;</span><span class="p">));</span>
<span class="p">});</span>
<span class="c1">//gulp4.0以后的写法
</span><span class="c1">// 执行 gulp 命令时执行的任务
</span><span class="c1"></span><span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="s1">&#39;default&#39;</span><span class="p">,</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">series</span><span class="p">(</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">parallel</span><span class="p">(</span><span class="s1">&#39;minify-html&#39;</span><span class="p">,</span><span class="s1">&#39;minify-css&#39;</span><span class="p">,</span><span class="s1">&#39;minify-js&#39;</span><span class="p">,</span><span class="s1">&#39;minify-images&#39;</span><span class="p">)));</span>
</code></pre></td></tr></table>
</div>
</div><p>生成博文时执行 hexo g &amp;&amp; gulp 就会根据 gulpfile.js 中的配置，对 public 目录中的静态资源文件进行压缩。</p>
<h4 id="网页样式布局">网页样式布局</h4>
<p>在对 NexT 主题的个性优化中，如果想要添加一些个性化的内容，就需要对内部代码进行修改。主题提供了许多注入点，可以通过注入点插入自己想要的东西，而不会对原有的主题内部文件进行大量的修改。这样便于以后主题的升级，避免一系列的错误发生。NexT 主题更新到 v7.2.0 后，<a href="https://github.com/theme-next/hexo-theme-next/pull/868" target="_blank" rel="noopener noreffer">PR #868</a> 简化了自定义内容的添加方法，删除了以前版本中所用的 css/_custom.styl 自定义 CSS 样式文件。如果想要修改样式或者在 HTML 中的 <code>&lt;head&gt;</code>、<code>&lt;body&gt;</code> 等部位插入代码。即直接在博客 sourse 资源文件夹下新建自定义文件 _data/xxx 实现该功能。
在主题配置文件 _config.yml 中，写道：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-yaml" data-lang="yaml"><span class="c"># Define custom file paths.</span><span class="w">
</span><span class="w"></span><span class="c"># Create your custom files in site directory `source/_data` and uncomment needed files below.</span><span class="w">
</span><span class="w"></span><span class="k">custom_file_path</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="c">#head: source/_data/head.swig</span><span class="w">
</span><span class="w">  </span><span class="c">#header: source/_data/header.swig</span><span class="w">
</span><span class="w">  </span><span class="c">#sidebar: source/_data/sidebar.swig</span><span class="w">
</span><span class="w">  </span><span class="c">#postMeta: source/_data/post-meta.swig</span><span class="w">
</span><span class="w">  </span><span class="c">#postBodyEnd: source/_data/post-body-end.swig</span><span class="w">
</span><span class="w">  </span><span class="c">#footer: source/_data/footer.swig</span><span class="w">
</span><span class="w">  </span><span class="c">#bodyEnd: source/_data/body-end.swig</span><span class="w">
</span><span class="w">  </span><span class="c">#variable: source/_data/variables.styl</span><span class="w">
</span><span class="w">  </span><span class="c">#mixin: source/_data/mixins.styl</span><span class="w">
</span><span class="w">  </span><span class="c">#style: source/_data/styles.styl</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div><p>如果需要自定义 CSS 样式，需要将上述代码中 <code>custom_file_path:</code> 下的 <code>#style: source/_data/styles.styl</code> 注释取消，然后根据该自定义文件存放路径创建相应文件 <code>styles.styl</code>，在该文件中添加自定义内容。同样，如果需要在 `` 中添加内容，比如修改字体时引入 Google Fonts 以及分析博客数据时引入 Google Analytics，则需要新建 <code>head.swig</code> 文件，在其中添加自定义内容即可。在 <code>post.swig</code> 中添加的文章结尾样式，可以直接添加在 <code>post-body-end.swig</code> 文件中。</p>
<h5 id="使用-google-fonts">使用 Google Fonts</h5>
<p><a href="https://fonts.google.com/" target="_blank" rel="noopener noreffer">Google Fonts</a>提供了数百种高质量英文字体的 API，你可以通过调用 Google Fonts 免费使用其提供的字体服务。目前 Google Fonts 提供了几种中文简体字体，其中就有思源宋体。
面对电子显示屏上千篇一律的黑体字，当读者看到一个显示宋体字的网页自然会眼前一亮。再加上合理的排版，你的博客必然会脱颖而出。宋体的衬线更适合长时间阅读，这也是目前各类阅读器或者浏览器上的阅读模式都会使用衬线字的原因。使用 Google Fonts 字体的方法很简单，NexT 主题配置文件中已经提供了设置：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-yaml" data-lang="yaml"><span class="k">font</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="c"># Use custom fonts families or not.</span><span class="w">
</span><span class="w">  </span><span class="c"># Depended options: `external` and `family`.</span><span class="w">
</span><span class="w">  </span><span class="k">enable</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="w">
</span><span class="w">  </span><span class="c"># Uri of fonts host, e.g. //fonts.googleapis.com (Default).</span><span class="w">
</span><span class="w">  </span><span class="k">host</span><span class="p">:</span><span class="w">
</span><span class="w">
</span><span class="w">  </span><span class="c"># Font options:</span><span class="w">
</span><span class="w">  </span><span class="c"># `external: true` will load this font family from `host` above.</span><span class="w">
</span><span class="w">  </span><span class="c"># `family: Times New Roman`. Without any quotes.</span><span class="w">
</span><span class="w">  </span><span class="c"># `size: x.x`. Use `em` as unit. Default: 1 (16px)</span><span class="w">
</span><span class="w">
</span><span class="w">  </span><span class="c"># Global font settings used for all elements inside &lt;body&gt;.</span><span class="w">
</span><span class="w">  </span><span class="k">global</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="k">external</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="w">    </span><span class="k">family</span><span class="p">:</span><span class="w"> </span>Lato<span class="w">
</span><span class="w">    </span><span class="k">size</span><span class="p">:</span><span class="w">
</span><span class="w">
</span><span class="w">  </span><span class="c"># Font settings for site title (.site-title).</span><span class="w">
</span><span class="w">  </span><span class="k">title</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="k">external</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="w">    </span><span class="k">family</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="k">size</span><span class="p">:</span><span class="w">
</span><span class="w">
</span><span class="w">  </span><span class="c"># Font settings for headlines (&lt;h1&gt; to &lt;h6&gt;).</span><span class="w">
</span><span class="w">  </span><span class="k">headings</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="k">external</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="w">    </span><span class="k">family</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="k">size</span><span class="p">:</span><span class="w">
</span><span class="w">
</span><span class="w">  </span><span class="c"># Font settings for posts (.post-body).</span><span class="w">
</span><span class="w">  </span><span class="k">posts</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="k">external</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="w">    </span><span class="k">family</span><span class="p">:</span><span class="w">
</span><span class="w">
</span><span class="w">  </span><span class="c"># Font settings for &lt;code&gt; and code blocks.</span><span class="w">
</span><span class="w">  </span><span class="k">codes</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="k">external</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="w">    </span><span class="k">family</span><span class="p">:</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div><p>首先将 enable: 的 false 改为 true，然后在 host: 后添加 Google Fonts API 地址：fonts.googleapis.com。考虑到国内的网络对 Google 的域名并不友好，建议将 googleapis.com 修改为烧饼博客提供的镜像 loli.net,变成fonts.loli.net。</p>
<p>然后，设置中下面的一些选项，就是设定博客各区域的字体，比如网站标题 title，文章内容 posts这些都可以进行修改，你要做的只是到 Google Fonts 上找到适合的字体，然后将字体的名字填写到 family: 中。最关键的是 global 字体的设定，这里的字体将会是你网站的基本（全局）字体。建议不要在这里填思源宋体的名字 Noto Serif SC，而是选取一款英文字体进行填写。因为中文字体往往携带同样的英文字体，如果将中文字体优先级设置为第一位，那么英文字体必将也会是中文字体的样式。如果你在这里设置的是 Noto Serif SC，那么英文字体也会是 Noto Serif SC。那么，中文字体到哪里去设置呢？当然还是要到 base.styl 文件中，直接这样修改：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-diff" data-lang="diff">// Font families.
<span class="gd">-$font-family-chinese      = &#34;PingFang SC&#34;, &#34;Microsoft YaHei&#34;
</span><span class="gd"></span><span class="gi">+$font-family-chinese      = &#34;Noto Serif SC&#34;
</span></code></pre></td></tr></table>
</div>
</div><p>然后进入 <a href="https://fonts.google.com/" target="_blank" rel="noopener noreffer">Google Fonts</a>，搜索 Noto Serif SC，点 + 号选择，选择好后底部会弹出一个提示框，里面有使用说明。还可以点击提示框中的 CUSTOMIZE 定制要加载的字重与语言。之后，点击 EMBED，复制生成的 <code>&lt;link&gt;</code> 代码，添加到博客的 <code>&lt;head&gt;</code> 标签内，NexT 主题可直接添加到 ~/source/_data/head.swig 文件中。如果你想使用上文中提到的烧饼博客镜像，就将代码中的将 googleapis.com 修改为 loli.net。
<img
        class="lazyload"
        src="/svg/loading/small.min.svg"
        data-src="https://oss.chenjunxin.com/picture/blogPicture/9ec4151c_hexo-theme-next-google-fonts-select.webp"
        data-srcset="https://oss.chenjunxin.com/picture/blogPicture/9ec4151c_hexo-theme-next-google-fonts-select.webp, https://oss.chenjunxin.com/picture/blogPicture/9ec4151c_hexo-theme-next-google-fonts-select.webp 1.5x, https://oss.chenjunxin.com/picture/blogPicture/9ec4151c_hexo-theme-next-google-fonts-select.webp 2x"
        data-sizes="auto"
        alt="https://oss.chenjunxin.com/picture/blogPicture/9ec4151c_hexo-theme-next-google-fonts-select.webp"
        title="https://oss.chenjunxin.com/picture/blogPicture/9ec4151c_hexo-theme-next-google-fonts-select.webp" />
如下代码：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">&lt;link href=&#34;https://fonts.loli.net/css?family=Noto+Serif+SC:400,500,700&amp;display=swap&amp;subset=chinese-simplified&#34; rel=&#34;stylesheet&#34;&gt;
</code></pre></td></tr></table>
</div>
</div><p>考虑到宋体的笔画要比黑体细，因此建议通过自定义 CSS 将字体的颜色加深，比如修改为 #333，以达到较好的阅读效果。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">.post-body {
    color: #333;
}
</code></pre></td></tr></table>
</div>
</div><p>这种先在 <code>&lt;head&gt;</code> 中引入字体，再通过 CSS 设定字体显示部位的方式适用于各种网页的设计，不局限于 NexT 主题。另外，这里给出当前博客字体设定：</p>
<ul>
<li>中文字体：Noto Serif SC</li>
<li>英文字体：EB Garamond</li>
<li>标题字体：Cinzel Decorative</li>
<li>代码字体：Source Code Pro
配置文件修改如下:</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-diff" data-lang="diff">font:
<span class="gd">-  enable: false
</span><span class="gd"></span><span class="gi">+  enable: true
</span><span class="gi"></span>
  # Uri of fonts host, e.g. //fonts.googleapis.com (Default).
<span class="gd">-  host: 
</span><span class="gd"></span><span class="gi">+  host: //fonts.loli.net
</span><span class="gi"></span>
  # Font options:
  # `external: true` will load this font family from `host` above.
  # `family: Times New Roman`. Without any quotes.
  # `size: x.x`. Use `em` as unit. Default: 1 (16px)

  # Global font settings used for all elements inside &lt;body&gt;.
  global:
    external: true
<span class="gd">-   family: Lato
</span><span class="gd"></span><span class="gi">+   family: EB Garamond 
</span><span class="gi"></span>    size:

  # Font settings for site title (.site-title).
  title:
    external: true
<span class="gi">+   family: Cinzel Decorative
</span><span class="gi"></span>    size:

  # Font settings for headlines (&lt;h1&gt; to &lt;h6&gt;).
  headings:
    external: true
    family:
    size:

  # Font settings for posts (.post-body).
  posts:
    external: true
    family:

  # Font settings for &lt;code&gt; and code blocks.
  codes:
    external: true
<span class="gi">+   family: Source Code Pro
</span></code></pre></td></tr></table>
</div>
</div><h4 id="归档页面添加十二生肖">归档页面添加十二生肖</h4>
<p><img
        class="lazyload"
        src="/svg/loading/small.min.svg"
        data-src="https://oss.chenjunxin.com/picture/blogPicture/9ec4151c_add-chinese-zodiac-to-next-title.webp"
        data-srcset="https://oss.chenjunxin.com/picture/blogPicture/9ec4151c_add-chinese-zodiac-to-next-title.webp, https://oss.chenjunxin.com/picture/blogPicture/9ec4151c_add-chinese-zodiac-to-next-title.webp 1.5x, https://oss.chenjunxin.com/picture/blogPicture/9ec4151c_add-chinese-zodiac-to-next-title.webp 2x"
        data-sizes="auto"
        alt="https://oss.chenjunxin.com/picture/blogPicture/9ec4151c_add-chinese-zodiac-to-next-title.webp"
        title="https://oss.chenjunxin.com/picture/blogPicture/9ec4151c_add-chinese-zodiac-to-next-title.webp" />
在归档页面的年份后添加十二生肖的图案，具体样式可以参考<a href="https://www.chenjunxin.com/archives/" target="_blank" rel="noopener noreffer">归档页面</a>。
首先是在<a href="https://oss.chenjunxin.com/files/blogfiles/9ec4151c_chinese-zodiac.zip" target="_blank" rel="noopener noreffer">这里</a>下载十二生肖字体。下载后将解压的三个字体文件全部放在根目录 ~/source/fonts/ 下（若无 fonts 文件夹请自建）。
然后编辑主题中的 post-collapse.swig 文件，做如下修改：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-diff" data-lang="diff">{%- if year !== current_year %}
  {%- set current_year = year %}
  &lt;div class=&#34;collection-year&#34;&gt;
<span class="gd">-   &lt;{%- if theme.seo %}h2{% else %}h1{%- endif %} class=&#34;collection-header&#34;&gt;{{ current_year }}&lt;/{%- if theme.seo %}h2{% else %}h1{%- endif %}&gt;
</span><span class="gd"></span><span class="gi">+   &lt;{%- if theme.seo %}h2{% else %}h1{%- endif %} class=&#34;collection-header&#34;&gt;{{ current_year }}
</span><span class="gi">+     &lt;div class=&#34;chinese-zodiac&#34;&gt;
</span><span class="gi">+       {%- if current_year % 12 == 0 %}
</span><span class="gi">+         &lt;i class=&#34;symbolic-animals icon-monkey&#34;&gt;&lt;/i&gt;
</span><span class="gi">+       {%- endif %}
</span><span class="gi">+       {%- if current_year % 12 == 1 %}
</span><span class="gi">+         &lt;i class=&#34;symbolic-animals icon-rooster&#34;&gt;&lt;/i&gt;
</span><span class="gi">+       {%- endif %}
</span><span class="gi">+       {%- if current_year % 12 == 2 %}
</span><span class="gi">+         &lt;i class=&#34;symbolic-animals icon-dog&#34;&gt;&lt;/i&gt;
</span><span class="gi">+       {%- endif %}
</span><span class="gi">+       {%- if current_year % 12 == 3 %}
</span><span class="gi">+         &lt;i class=&#34;symbolic-animals icon-pig&#34;&gt;&lt;/i&gt;
</span><span class="gi">+       {%- endif %}
</span><span class="gi">+       {%- if current_year % 12 == 4 %}
</span><span class="gi">+         &lt;i class=&#34;symbolic-animals icon-rat&#34;&gt;&lt;/i&gt;
</span><span class="gi">+       {%- endif %}
</span><span class="gi">+       {%- if current_year % 12 == 5 %}
</span><span class="gi">+         &lt;i class=&#34;symbolic-animals icon-ox&#34;&gt;&lt;/i&gt;
</span><span class="gi">+       {%- endif %}
</span><span class="gi">+       {%- if current_year % 12 == 6 %}
</span><span class="gi">+         &lt;i class=&#34;symbolic-animals icon-tiger&#34;&gt;&lt;/i&gt;
</span><span class="gi">+       {%- endif %}
</span><span class="gi">+       {%- if current_year % 12 == 7 %}
</span><span class="gi">+         &lt;i class=&#34;symbolic-animals icon-rabbit&#34;&gt;&lt;/i&gt;
</span><span class="gi">+       {%- endif %}
</span><span class="gi">+       {%- if current_year % 12 == 8 %}
</span><span class="gi">+         &lt;i class=&#34;symbolic-animals icon-dragon&#34;&gt;&lt;/i&gt;
</span><span class="gi">+       {%- endif %}
</span><span class="gi">+       {%- if current_year % 12 == 9 %}
</span><span class="gi">+         &lt;i class=&#34;symbolic-animals icon-snake&#34;&gt;&lt;/i&gt;
</span><span class="gi">+       {%- endif %}
</span><span class="gi">+       {%- if current_year % 12 == 10 %}
</span><span class="gi">+         &lt;i class=&#34;symbolic-animals icon-horse&#34;&gt;&lt;/i&gt;
</span><span class="gi">+       {%- endif %}
</span><span class="gi">+       {%- if current_year % 12 == 11 %}
</span><span class="gi">+         &lt;i class=&#34;symbolic-animals icon-goat&#34;&gt;&lt;/i&gt;
</span><span class="gi">+       {%- endif %}
</span><span class="gi">+     &lt;/div&gt;
</span><span class="gi">+   &lt;/{%- if theme.seo %}h2{% else %}h1{%- endif %}&gt;
</span><span class="gi"></span>  &lt;/div&gt;
{%- endif %}
</code></pre></td></tr></table>
</div>
</div><p>最后再添加自定义样式到 ~/source/_data/styles.styl 中：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">.chinese-zodiac {
    float: right;
}
@font-face {
  font-family: &#39;chinese-zodiac&#39;;
  font-display: swap;
  src: url(&#39;/fonts/chinese-zodiac.eot&#39;);
  src: url(&#39;/fonts/chinese-zodiac.eot&#39;) format(&#39;embedded-opentype&#39;),
       url(&#39;/fonts/chinese-zodiac.woff2&#39;) format(&#39;woff2&#39;),
       url(&#39;/fonts/chinese-zodiac.woff&#39;) format(&#39;woff&#39;);
  font-weight: normal;
  font-style: normal;
}
.symbolic-animals {
  display: inline-block;
  font: normal normal normal 14px/1 chinese-zodiac;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}
.icon-dragon:before { content: &#39;\e806&#39;; }
.icon-tiger:before { content: &#39;\e809&#39;; }
.icon-pig:before { content: &#39;\e810&#39;; }
.icon-horse:before { content: &#39;\e813&#39;; }
.icon-rat:before { content: &#39;\e816&#39;; }
.icon-goat:before { content: &#39;\e818&#39;; }
.icon-snake:before { content: &#39;\e820&#39;; }
.icon-ox:before { content: &#39;\e822&#39;; }
.icon-dog:before { content: &#39;\e825&#39;; }
.icon-rabbit:before { content: &#39;\e826&#39;; }
.icon-monkey:before { content: &#39;\e829&#39;; }
.icon-rooster:before { content: &#39;\e82f&#39;; }
</code></pre></td></tr></table>
</div>
</div><h4 id="添加数学公式支持">添加数学公式支持</h4>
<p>这里看了各种对比之后，试验过后选择支持mathjax的pandoc,其他的老是会有各种奇怪的问题。</p>
<h5 id="安装pandoc">安装pandoc</h5>
<p>Manjaro:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ sudo pacman -S pandoc
</code></pre></td></tr></table>
</div>
</div><p>CentOS7:
在<a href="https://pandoc.org/releases.html" target="_blank" rel="noopener noreffer">官网</a>下载压缩包</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="c1"># pandoc 2.0 之后的版本可如下安装</span>
$ sudo tar xvzf pandoc-2.9.2-linux-amd64.tar.gz --strip-components <span class="m">1</span> -C /usr
<span class="c1"># 查看 pandoc 路径，可直接用 rm /usr/bin/pandoc 删除</span>
$ which pandoc
$ pip install pandocfilters  <span class="c1"># 安装依赖</span>
<span class="c1"># 查看语法</span>
$ pandoc -h
<span class="c1"># 查看版本</span>
$ pandoc -v
</code></pre></td></tr></table>
</div>
</div><h5 id="更换hexo渲染器">更换Hexo渲染器</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ npm uninstall hexo-renderer-marked --save
$ npm install hexo-renderer-pandoc --save
</code></pre></td></tr></table>
</div>
</div><p>修改主题配置文件，这里以next为例:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-diff" data-lang="diff"># Math Formulas Render Support
math:
  # Default (true) will load mathjax / katex script on demand.
  # That is it only render those page which has `mathjax: true` in Front-matter.
  # If you set it to false, it will load mathjax / katex srcipt EVERY PAGE.
<span class="gi">+  per_page: true
</span><span class="gi"></span>
  # hexo-renderer-pandoc (or hexo-renderer-kramed) required for full MathJax support.
  mathjax:
<span class="gi">+    enable: true
</span><span class="gi"></span>    # See: https://mhchem.github.io/MathJax-mhchem/
    mhchem: false
</code></pre></td></tr></table>
</div>
</div><p>注意事项
如果你使用这款Pandoc renderer,那么书写 Markdown 时候需要遵循<a href="https://pandoc.org/MANUAL.html#pandocs-markdown" target="_blank" rel="noopener noreffer">Pandoc 对 Markdown的规定</a>。</p>
<p>有一些比较明显的需要注意的事项：正常的文字后面如果跟的是<code>list</code>, <code>table</code>或者<code>quotation</code>，文字后面需要空一行，如果不空行，这些环境将不能被 Pandoc renderer 正常渲染。</p>
<p>另外，文中的 URL 使用 Pandoc 渲染以后是普通的文本格式，不能点击，可以通过用<code>&lt;&gt;</code>包围 URL 的方式把 URL 变成可点击的 URL。</p>
<h1 id="rss">RSS</h1>
<p>安装feed插件</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ npm install hexo-generator-feed --save
</code></pre></td></tr></table>
</div>
</div><p>站点配置文件，新增内容</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback"># RSS订阅支持
plugin:
  - hexo-generator-feed
# rss配置 Feed Atom
feed:
  type: atom
  path: atom.xml
  limit: 20
  hub:
  content:
  content_limit: 140
  content_limit_delim: &#39; &#39;
  order_by: -date
  icon: icon.png
</code></pre></td></tr></table>
</div>
</div><p>配置Next主题配置文件</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-diff" data-lang="diff">social:
<span class="gi">+  RSS: /atom.xml || rss
</span></code></pre></td></tr></table>
</div>
</div><h1 id="扩展">扩展</h1>
<h2 id="草稿--布局">草稿 &amp;&amp; 布局</h2>
<h3 id="草稿布局">草稿布局</h3>
<p>为了避免写了一半的文章发布出去，可以在新建布局的时候选择草稿：<code>hexo new draft &quot;blog title&quot;</code>，但是我发现生成的页面没有日期。经搜索，找到其模板位置：<code>./hexo-folder/scaffolds/draft.md</code>，修改为如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">---
title: {{ title }}
tags:
categories:
description:
date: {{ date }}
---
点击阅读前文前, 首页能看到的文章的简短描述
</code></pre></td></tr></table>
</div>
</div><h3 id="广义布局">广义布局</h3>
<p>更广义上来说，你可以在 scaffolds 中定制任意多个布局，draft 和 page 是最常用的两个：</p>
<ul>
<li>post：在这里的会当做文章被发布。</li>
<li>draft：放在这里，避免写了一半的文章被发布。</li>
<li>page：在首页增加标签页。
为了发不同类型的文章，比如说游记、技术等等，完全可以事先创造多个布局（通过嵌入一些默认变量和 HTML 代码来实现），然后通过 <code>hexo new layout &quot;title&quot;</code> 来新建具有该布局的文章，当然，该文章会默认被创建在 post 文件夹中。
比如：</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ cp scaffolds/page.md scaffolds/test.md
$ hexo new <span class="nb">test</span> <span class="s1">&#39;test&#39;</span>
INFO  Created: hexo/source/_posts/2019-10-16-test.md
</code></pre></td></tr></table>
</div>
</div><p>就会创建一个具有 test 模板的文章：<code>~/Code/blog/hexo/source/_posts/2019-10-16-test.md</code>
<strong>如果不指定模板，会默认使用 <a href="https://hexo.io/zh-cn/docs/configuration" target="_blank" rel="noopener noreffer">_config.yml</a> 中的 <code>default_layout</code> 参数代替，一般来说是 post。</strong></p>
<h3 id="草稿draft">草稿（draft）</h3>
<p>draft 布局用于创建草稿，生成的文档存在于 source_drafts\ 目录中，默认配置下将不会把该目录下的文档渲染到网站中。
考虑到一些文章可能需要数天才能完成，建议将新建文档时的默认布局设置为 draft：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-diff" data-lang="diff"><span class="gd">- default_layout: post
</span><span class="gd"></span><span class="gi">+ default_layout: draft
</span></code></pre></td></tr></table>
</div>
</div><p>测试草稿
hexo server创建的测试网站，默认是不渲染草稿的，如果需要渲染草稿需要加上后缀hexo server &ndash;draft
通过以下命令将草稿发布为正式文章：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ hexo publish <span class="o">[</span>layout<span class="o">]</span> &lt;filename&gt;
</code></pre></td></tr></table>
</div>
</div><p>该命令会将 source_drafts\ 目录下以的文章从 draft 移动到 post （只需要用 shell 的 mv 命令也可以)。</p>
<h2 id="标签与分类">标签与分类</h2>
<p>标签和分类是什么，其区别是什么。
标签和分类都是用于对文章进行归档的一种方式，标签是一种列表结构，而分类是一种树结构。我们以人作为例子，从标签的角度考虑，我可以拥有程序员、高颜值、幽默等标签，这些标签之间没有层级关系；从分类的角度考虑，我是亚洲人、中国人、河南人，这些分类之间是有明确的包含关系的。
可以在 Front-Matter 中添加 catergories 和 tags 字段为文章添加标签和分类，如我为本文添加了 Hexo 和 Markdown 两个标签，并将其归类到了 技术 / 博客 类别，对应的 Front-Matter 结构如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-markdown" data-lang="markdown">title: Hexo搭建个人博客系列：写作技巧篇
tags: Hexo Markdown
categories:
<span class="k">-</span> 技术
<span class="k">-</span> 博客
</code></pre></td></tr></table>
</div>
</div><h2 id="文章标题格式">文章标题格式</h2>
<p>在文章顶部必须采用以下格式(称为Front-matter，是文件最上方以 -– 分隔的区域，用于指定个别文件的变量)，将xxxx替换为文章标题，否则文章标题会显示为未命名</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-markdown" data-lang="markdown">---
title: xxxx
---
</code></pre></td></tr></table>
</div>
</div><p>属性：</p>
<ul>
<li>title：定义了博文的标题</li>
<li>date：定义了创作此博文的时间</li>
<li>tags：定义了博文的标签</li>
<li>update：定义了最后修改的时间</li>
<li>comments：定义能否评论此博文（true/false，默认为true）</li>
<li>categories：定义了博文的种类</li>
</ul>
<h2 id="首页文章不展示全文显示摘要">首页文章不展示全文显示摘要</h2>
<p>在文章中加以下标签，后面的内容就不会显示出来了。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-markdown" data-lang="markdown"><span class="c">&lt;!--more--&gt;</span>  
</code></pre></td></tr></table>
</div>
</div><h2 id="代码块进阶用法">代码块进阶用法</h2>
<p>可以通过为代码块附加参数的形式为其添加更丰富的信息提示，效果如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;Hello world!&#34;</span><span class="p">);</span>
</code></pre></td></tr></table>
</div>
</div><p>代码块进阶语法规则：</p>
<p>``` [language] [title] [url] [link text]</p>
<p>code snippet</p>
<p>```</p>
<p>其中，各参数意义如下：</p>
<ul>
<li>langugae：语言名称，引导渲染引擎正确解析并高亮显示关键字</li>
<li>title：代码块标题，将会显示在左上角</li>
<li>url：链接地址，如果没有指定 link text 则会在右上角显示 link</li>
<li>link text：链接名称，指定 url 后有效，将会显示在右上角
url 必须为有效链接地址才会以链接的形式显示在右上角，否则将作为标题显示在左上角。以 url 为分界，左侧除了第一个单词会被解析为 language，其他所有单词都会被解析为 title，而右侧的所有单词都会被解析为 link text。
如果不想填写 title，可以在 language 和 url 之间添加至少三个空格。</li>
</ul>
<h1 id="参考链接">参考链接</h1>
<ul>
<li><a href="http://secrettc.coding.me/insightLabs/2017/05/25/Hexo%E5%8D%9A%E5%AE%A2/" target="_blank" rel="noopener noreffer">Hexo 博客</a></li>
<li><a href="https://www.pyfdtic.com/2018/03/14/tools-Hexo-nexT-%E5%8D%9A%E5%AE%A2%E5%BB%BA%E8%AE%BE%E6%8C%87%E5%8D%97/" target="_blank" rel="noopener noreffer">Hexo+nexT 博客建设指南</a></li>
<li><a href="https://tding.top/archives/42c38b10" target="_blank" rel="noopener noreffer">Hexo-NexT (v7.0+) 主题配置</a></li>
<li><a href="https://tding.top/archives/567debe0.html" target="_blank" rel="noopener noreffer">本博客当前使用的插件总结</a></li>
<li><a href="https://blog.janking.cn/post/hexonote.html" target="_blank" rel="noopener noreffer">Hexo+NexT 搭建博客笔记</a></li>
<li><a href="https://www.codeleading.com/article/41352532227/" target="_blank" rel="noopener noreffer">Hexo4.0+Next7.2.4主题优化配置</a></li>
<li><a href="https://www.ouyanting.com/archives/75d332db.html" target="_blank" rel="noopener noreffer">hexo配置NexT主题</a></li>
<li><a href="https://chujunwen.xyz/posts/34b6c95f/" target="_blank" rel="noopener noreffer">Hexo-Next 主题下对博客进行优化</a></li>
<li><a href="https://bestzuo.cn/posts/blog-establish.html" target="_blank" rel="noopener noreffer">Hexo博客+Next主题深度优化与定制</a></li>
<li><a href="http://yearito.cn/posts/hexo-advanced-settings.html" target="_blank" rel="noopener noreffer">Hexo 搭建个人博客系列：进阶设置篇</a></li>
<li><a href="https://www.qtmuniao.com/2019/10/16/hexo-theme-landscaping/" target="_blank" rel="noopener noreffer">Hexo Next 主题进阶设置</a></li>
<li><a href="https://tigerliu.site/2017/06/hexo-2/#%E7%99%BE%E5%BA%A6%E3%80%81%E8%B0%B7%E6%AD%8C%E7%BB%9F%E8%AE%A1" target="_blank" rel="noopener noreffer">Hexo进阶高级教程（二）</a></li>
<li><a href="https://luanzhuxian.github.io/post/82d92ad4.html" target="_blank" rel="noopener noreffer">Hexo + Next 主题博客提交百度谷歌收录</a></li>
<li><a href="https://todebug.com/use-gulp-with-hexo/" target="_blank" rel="noopener noreffer">hexo优化之——使用gulp压缩资源</a></li>
<li><a href="https://hasaik.com/posts/495d0b23.html" target="_blank" rel="noopener noreffer">Hexo博客静态资源压缩</a></li>
<li><a href="https://guanqr.com/tech/website/hexo-theme-next-customization/#%E5%BD%92%E6%A1%A3%E9%A1%B5%E9%9D%A2%E6%B7%BB%E5%8A%A0%E5%8D%81%E4%BA%8C%E7%94%9F%E8%82%96" target="_blank" rel="noopener noreffer">Hexo-NexT 主题个性优化</a></li>
<li><a href="https://zhaozhiyuan.org/post/install-pandoc/" target="_blank" rel="noopener noreffer">在不同平台安装使用 pandoc</a></li>
</ul></div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>本文于 2020-02-25 更新</span>
            </div>
            <div class="post-info-license"></div>
        </div>
        <div class="post-info-line">
            <div class="post-info-md"><span>
                            <a class="link-to-markdown" href="/hexo-next%E4%B8%BB%E9%A2%98%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE%E4%BC%98%E5%8C%96/index.md" target="_blank">阅读原始文档</a>
                        </span></div>
            <div class="post-info-share">
                <span><a href="javascript:void(0);" title="分享到 Twitter" data-sharer="twitter" data-url="https://chenjunxin.com/hexo-next%E4%B8%BB%E9%A2%98%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE%E4%BC%98%E5%8C%96/" data-title="Hexo-NexT (v7.7.0) 主题安装配置优化" data-hashtags="Hexo安装配置,Hexo优化,NexT主题配置"><i class="fab fa-twitter fa-fw"></i></a><a href="javascript:void(0);" title="分享到 Facebook" data-sharer="facebook" data-url="https://chenjunxin.com/hexo-next%E4%B8%BB%E9%A2%98%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE%E4%BC%98%E5%8C%96/" data-hashtag="Hexo安装配置"><i class="fab fa-facebook-square fa-fw"></i></a><a href="javascript:void(0);" title="分享到 WhatsApp" data-sharer="whatsapp" data-url="https://chenjunxin.com/hexo-next%E4%B8%BB%E9%A2%98%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE%E4%BC%98%E5%8C%96/" data-title="Hexo-NexT (v7.7.0) 主题安装配置优化" data-web><i class="fab fa-whatsapp fa-fw"></i></a><a href="javascript:void(0);" title="分享到 Line" data-sharer="line" data-url="https://chenjunxin.com/hexo-next%E4%B8%BB%E9%A2%98%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE%E4%BC%98%E5%8C%96/" data-title="Hexo-NexT (v7.7.0) 主题安装配置优化"><i class="fab fa-line fa-fw"></i></a><a href="javascript:void(0);" title="分享到 微博" data-sharer="weibo" data-url="https://chenjunxin.com/hexo-next%E4%B8%BB%E9%A2%98%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE%E4%BC%98%E5%8C%96/" data-title="Hexo-NexT (v7.7.0) 主题安装配置优化"><i class="fab fa-weibo fa-fw"></i></a><a href="javascript:void(0);" title="分享到 Myspace" data-sharer="myspace" data-url="https://chenjunxin.com/hexo-next%E4%B8%BB%E9%A2%98%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE%E4%BC%98%E5%8C%96/" data-title="Hexo-NexT (v7.7.0) 主题安装配置优化" data-description=""><i data-svg-src="/lib/simple-icons/icons/myspace.min.svg"></i></a><a href="javascript:void(0);" title="分享到 Blogger" data-sharer="blogger" data-url="https://chenjunxin.com/hexo-next%E4%B8%BB%E9%A2%98%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE%E4%BC%98%E5%8C%96/" data-title="Hexo-NexT (v7.7.0) 主题安装配置优化" data-description=""><i class="fab fa-blogger fa-fw"></i></a><a href="javascript:void(0);" title="分享到 Evernote" data-sharer="evernote" data-url="https://chenjunxin.com/hexo-next%E4%B8%BB%E9%A2%98%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE%E4%BC%98%E5%8C%96/" data-title="Hexo-NexT (v7.7.0) 主题安装配置优化"><i class="fab fa-evernote fa-fw"></i></a></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/tags/hexo%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/">Hexo安装配置</a>,&nbsp;<a href="/tags/hexo%E4%BC%98%E5%8C%96/">Hexo优化</a>,&nbsp;<a href="/tags/next%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/">NexT主题配置</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">返回</a></span>&nbsp;|&nbsp;<span><a href="/">主页</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/%E4%BD%BF%E7%94%A8travis%E9%83%A8%E7%BD%B2hexo/" class="prev" rel="prev" title="使用Travis部署Hexo"><i class="fas fa-angle-left fa-fw"></i>使用Travis部署Hexo</a>
            <a href="/centos7%E4%B8%8Adocker%E9%83%A8%E7%BD%B2v2ray/" class="next" rel="next" title="CentOS7上Docker部署V2Ray">CentOS7上Docker部署V2Ray<i class="fas fa-angle-right fa-fw"></i></a></div>
</div>
<div id="comments"></div></article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">由 <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.69.1">Hugo</a> 强力驱动 | 主题 - <a href="https://github.com/dillonzq/LoveIt" target="_blank" rel="noopener noreffer" title="LoveIt 0.2.5"><i class="far fa-kiss-wink-heart fa-fw"></i> LoveIt</a>
                </div><div class="footer-line"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2017 - 2020</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/" target="_blank">JohnnyChan</a></span>&nbsp;|&nbsp;<span class="license"><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span><span class="icp-splitter">&nbsp;|&nbsp;</span><br class="icp-br"/>
                    <span class="icp">粤ICP备17106857号-2</span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="回到顶部">
                <i class="fas fa-arrow-up fa-fw"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="查看评论">
                <i class="fas fa-comment fa-fw"></i>
            </a>
        </div><link rel="stylesheet" href="/lib/katex/katex.min.css"><link rel="stylesheet" href="/lib/katex/copy-tex.min.css"><script type="text/javascript">
    window.config = {"code":{"copyTitle":"复制到剪贴板","maxShownLines":10},"comment":{},"headerMode":{"desktop":"fixed","mobile":"auto"},"math":{"delimiters":[{"display":true,"left":"$$","right":"$$"},{"display":true,"left":"\\[","right":"\\]"},{"display":false,"left":"$","right":"$"},{"display":false,"left":"\\(","right":"\\)"}],"strict":false},"search":{"highlightTag":"em","lunrIndexURL":"/index.json","lunrLanguageCode":"zh","lunrSegmentitURL":"/lib/lunr/lunr.segmentit.js","maxResultLength":10,"noResultsFound":"没有找到结果","snippetLength":50,"type":"lunr"}};
</script><script type="text/javascript" src="https://polyfill.io/v3/polyfill.min.js?features=html5shiv%2CElement.prototype.closest%2CrequestAnimationFrame%2CCustomEvent%2CPromise%2CObject.entries%2CObject.assign%2CObject.values%2Cfetch%2CElement.prototype.after%2CArray.prototype.fill%2CIntersectionObserver%2CArray.from%2CArray.prototype.find%2CMath.sign"></script><script type="text/javascript" src="/lib/smooth-scroll/smooth-scroll.min.js"></script><script type="text/javascript" src="/lib/autocomplete/autocomplete.min.js"></script><script type="text/javascript" src="/lib/lunr/lunr.min.js"></script><script type="text/javascript" src="/lib/lunr/lunr.stemmer.support.min.js"></script><script type="text/javascript" src="/lib/lunr/lunr.zh.min.js"></script><script type="text/javascript" src="/lib/lazysizes/lazysizes.min.js"></script><script type="text/javascript" src="/lib/object-fit-images/ofi.min.js"></script><script type="text/javascript" src="/lib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="/lib/sharer/sharer.min.js"></script><script type="text/javascript" src="/lib/katex/katex.min.js"></script><script type="text/javascript" src="/lib/katex/auto-render.min.js"></script><script type="text/javascript" src="/lib/katex/copy-tex.min.js"></script><script type="text/javascript" src="/lib/katex/mhchem.min.js"></script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
